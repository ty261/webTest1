{"ast":null,"code":"import { API_URL, TOKEN_KEY } from '../config';\n\n// Client-side mock database for actuators\nconst mockActuatorDatabase = {\n  actuators: [{\n    id: 1,\n    name: 'Greenhouse 1 Irrigation System',\n    type: 'irrigation',\n    location: 'Greenhouse 1',\n    status: 'off',\n    mode: 'manual',\n    is_active: true,\n    mqtt_topic: 'farm/actuators/irrigation/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    last_control_time: '2023-11-14T14:20:00Z',\n    description: 'Main irrigation system for Greenhouse 1',\n    parameters: {\n      water_flow: 2.5,\n      duration: 30,\n      schedule: 'daily',\n      auto_threshold: 30\n    }\n  }, {\n    id: 2,\n    name: 'Greenhouse 2 Ventilation Fan',\n    type: 'fan',\n    location: 'Greenhouse 2',\n    status: 'low',\n    mode: 'auto',\n    is_active: true,\n    mqtt_topic: 'farm/actuators/fan/2',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    description: 'Main ventilation fan for Greenhouse 2',\n    parameters: {\n      speed: 2,\n      max_speed: 5,\n      direction: 'forward',\n      auto_trigger_temp: 28\n    }\n  }, {\n    id: 3,\n    name: 'Greenhouse 1 Lighting System',\n    type: 'lighting',\n    location: 'Greenhouse 1',\n    status: 'on',\n    mode: 'auto',\n    is_active: true,\n    mqtt_topic: 'farm/actuators/lighting/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    description: 'Main lighting system for Greenhouse 1',\n    parameters: {\n      brightness: 80,\n      color_temp: 4000,\n      schedule_on: '06:00',\n      schedule_off: '20:00'\n    }\n  }, {\n    id: 4,\n    name: 'Greenhouse 3 Humidifier',\n    type: 'humidifier',\n    location: 'Greenhouse 3',\n    status: 'off',\n    mode: 'manual',\n    is_active: false,\n    mqtt_topic: 'farm/actuators/humidifier/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    description: 'Main humidifier for Greenhouse 3',\n    parameters: {\n      capacity: 5,\n      auto_trigger_humidity: 40,\n      auto_stop_humidity: 60\n    }\n  }],\n  logs: []\n};\n\n// Client-side mock database for sensors\nconst mockSensorDatabase = {\n  sensors: [{\n    id: 1,\n    name: 'Temperature Sensor 1',\n    type: 'temperature',\n    location: 'Greenhouse 1',\n    status: 'active',\n    is_active: true,\n    mqtt_topic: 'farm/sensors/temperature/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    model: 'DHT22',\n    manufacturer: 'Acme Sensors',\n    calibration_date: '2023-09-15T00:00:00Z',\n    last_reading: {\n      value: 24.5,\n      unit: '°C',\n      timestamp: new Date().toISOString()\n    }\n  }, {\n    id: 2,\n    name: 'Humidity Sensor 1',\n    type: 'humidity',\n    location: 'Greenhouse 1',\n    status: 'active',\n    is_active: true,\n    mqtt_topic: 'farm/sensors/humidity/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    model: 'DHT22',\n    manufacturer: 'Acme Sensors',\n    calibration_date: '2023-09-15T00:00:00Z',\n    last_reading: {\n      value: 65,\n      unit: '%',\n      timestamp: new Date().toISOString()\n    }\n  }, {\n    id: 3,\n    name: 'Light Sensor 1',\n    type: 'light',\n    location: 'Greenhouse 2',\n    status: 'active',\n    is_active: true,\n    mqtt_topic: 'farm/sensors/light/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    model: 'BH1750',\n    manufacturer: 'Acme Sensors',\n    calibration_date: '2023-09-15T00:00:00Z',\n    last_reading: {\n      value: 3500,\n      unit: 'lux',\n      timestamp: new Date().toISOString()\n    }\n  }, {\n    id: 4,\n    name: 'Soil Moisture Sensor 1',\n    type: 'soil_moisture',\n    location: 'Greenhouse 1',\n    status: 'inactive',\n    is_active: false,\n    mqtt_topic: 'farm/sensors/soil_moisture/1',\n    created_at: '2023-10-01T08:00:00Z',\n    updated_at: '2023-11-15T10:30:00Z',\n    model: 'YL-69',\n    manufacturer: 'Acme Sensors',\n    calibration_date: '2023-09-15T00:00:00Z',\n    last_reading: {\n      value: 42,\n      unit: '%',\n      timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\n    }\n  }]\n};\n\n// Helper function to update actuator in mock database\nconst updateActuatorInDatabase = (id, updates) => {\n  const index = mockActuatorDatabase.actuators.findIndex(a => a.id === parseInt(id));\n  if (index !== -1) {\n    const updatedActuator = {\n      ...mockActuatorDatabase.actuators[index],\n      ...updates,\n      updated_at: new Date().toISOString()\n    };\n    mockActuatorDatabase.actuators[index] = updatedActuator;\n    console.log(`执行器 ${id} 已更新:`, updatedActuator);\n    return updatedActuator;\n  }\n  return null;\n};\n\n// Helper function to add a log to the mock database\nconst addLogToDatabase = (actuatorId, status, message, source = 'web', user = 'admin', previous_state = null, parameters = {}) => {\n  const newLog = {\n    id: mockActuatorDatabase.logs.length + 1,\n    actuator_id: parseInt(actuatorId),\n    timestamp: new Date().toISOString(),\n    status,\n    message,\n    user,\n    source,\n    previous_state,\n    parameters\n  };\n  mockActuatorDatabase.logs.unshift(newLog); // Add to beginning of array\n  console.log(`Actuator ${actuatorId} log added:`, newLog);\n  return newLog;\n};\n\n// Create common API call method\nconst apiCall = async (endpoint, method = 'GET', data = null) => {\n  // 确保endpoint以/开头，并且以/结尾，避免308重定向问题\n  let normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n  normalizedEndpoint = normalizedEndpoint.endsWith('/') ? normalizedEndpoint : `${normalizedEndpoint}/`;\n  const url = `${API_URL}${normalizedEndpoint}`;\n  console.log(`Calling API: ${url}`); // Debug log\n\n  const options = {\n    method,\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    // Follow redirects\n    redirect: 'follow'\n  };\n\n  // Add authorization token\n  const token = localStorage.getItem(TOKEN_KEY);\n  if (token) {\n    options.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  // Add request body data\n  if (data) {\n    options.body = JSON.stringify(data);\n  }\n  try {\n    // Use real API instead of mock response\n    const response = await fetch(url, options);\n\n    // Check for redirects\n    if (response.redirected) {\n      console.log(`API redirected: ${response.url}`);\n    }\n    const result = await response.json();\n    console.log(`API response: ${normalizedEndpoint}`, result); // Debug log\n\n    // Return backend response directly\n    return result;\n  } catch (error) {\n    console.error('API call error:', error);\n\n    // Use mock response as a fallback when API is unavailable\n    console.log('Using mock data as fallback');\n    if (endpoint.includes('/users/register') && method === 'POST') {\n      // Simulate registration response\n      return mockRegisterResponse(data);\n    } else if (endpoint.includes('/users/login') && method === 'POST') {\n      // Simulate login response\n      return mockLoginResponse(data);\n    } else {\n      // For other endpoints, return a generic success response\n      return {\n        success: true,\n        message: 'Operation completed using mock data',\n        data: null\n      };\n    }\n  }\n};\n\n// Mock registration response\nconst mockRegisterResponse = userData => {\n  // Check if username or email already exists in localStorage\n  const registeredUsers = JSON.parse(localStorage.getItem('smart_farm_registered_users') || '[]');\n  if (registeredUsers.some(u => u.username === userData.username)) {\n    return {\n      success: false,\n      message: `Username ${userData.username} is already taken`\n    };\n  }\n  if (registeredUsers.some(u => u.email === userData.email)) {\n    return {\n      success: false,\n      message: `Email ${userData.email} is already registered`\n    };\n  }\n\n  // Create new user\n  const newUser = {\n    ...userData,\n    id: Date.now(),\n    role: 'user',\n    is_active: true,\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString()\n  };\n\n  // Save to localStorage\n  registeredUsers.push(newUser);\n  localStorage.setItem('smart_farm_registered_users', JSON.stringify(registeredUsers));\n  return {\n    success: true,\n    message: 'User registered successfully (using mock data)',\n    data: newUser\n  };\n};\n\n// Mock login response\nconst mockLoginResponse = credentials => {\n  const registeredUsers = JSON.parse(localStorage.getItem('smart_farm_registered_users') || '[]');\n  const user = registeredUsers.find(u => u.email === credentials.email);\n  if (user && user.password === credentials.password) {\n    const {\n      password,\n      ...userWithoutPassword\n    } = user;\n    return {\n      success: true,\n      message: 'Login successful (using mock data)',\n      data: {\n        user: userWithoutPassword,\n        token: 'mock-token-' + Math.random().toString(36).substring(2)\n      }\n    };\n  }\n  return {\n    success: false,\n    message: 'Invalid email or password'\n  };\n};\n\n// Mock API response - Keep for reference but not used\nconst mockApiResponse = (endpoint, method, data) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      // Return mock data based on different endpoints\n      if (endpoint.startsWith('/dashboard') && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: {\n              sensors: {\n                total: 12,\n                active: 10,\n                latest_readings: {\n                  temperature: {\n                    value: 24.5,\n                    unit: '°C',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  },\n                  humidity: {\n                    value: 65,\n                    unit: '%',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  },\n                  light: {\n                    value: 3500,\n                    unit: 'lux',\n                    sensor_location: 'Greenhouse 2',\n                    timestamp: new Date().toISOString()\n                  },\n                  soil_moisture: {\n                    value: 42,\n                    unit: '%',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  }\n                }\n              },\n              actuators: {\n                total: 8,\n                active: 6,\n                statuses: {\n                  irrigation: {\n                    on: 1,\n                    off: 2,\n                    error: 0\n                  },\n                  ventilation: {\n                    on: 2,\n                    off: 1,\n                    error: 0\n                  },\n                  lighting: {\n                    on: 1,\n                    off: 1,\n                    error: 0\n                  },\n                  heating: {\n                    on: 0,\n                    off: 1,\n                    error: 0\n                  }\n                }\n              },\n              alerts: {\n                total: 5,\n                unread: 2,\n                recent: [{\n                  id: 1,\n                  type: 'temperature',\n                  message: 'Greenhouse 1 temperature above threshold (30°C)',\n                  created_at: new Date(Date.now() - 10 * 60000).toISOString(),\n                  is_read: false\n                }, {\n                  id: 2,\n                  type: 'actuator',\n                  message: 'Greenhouse 2 irrigation system started',\n                  created_at: new Date(Date.now() - 30 * 60000).toISOString(),\n                  is_read: true\n                }]\n              }\n            }\n          }\n        });\n      }\n      // Mock get all actuators\n      else if (endpoint === '/actuators' && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              name: 'Greenhouse 1 Irrigation System',\n              type: 'irrigation',\n              location: 'Greenhouse 1',\n              status: 'off',\n              mode: 'manual',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/irrigation/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              last_control_time: '2023-11-14T14:20:00Z'\n            }, {\n              id: 2,\n              name: 'Greenhouse 2 Ventilation Fan',\n              type: 'fan',\n              location: 'Greenhouse 2',\n              status: 'low',\n              mode: 'auto',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/fan/2',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              parameters: {\n                speed: 2,\n                max_speed: 5,\n                direction: 'forward'\n              }\n            }, {\n              id: 3,\n              name: 'Greenhouse 1 Lighting System',\n              type: 'lighting',\n              location: 'Greenhouse 1',\n              status: 'on',\n              mode: 'auto',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/lighting/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              parameters: {\n                brightness: 80,\n                color_temp: 4000\n              }\n            }, {\n              id: 4,\n              name: 'Greenhouse 3 Humidifier',\n              type: 'humidifier',\n              location: 'Greenhouse 3',\n              status: 'off',\n              mode: 'manual',\n              is_active: false,\n              mqtt_topic: 'farm/actuators/humidifier/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z'\n            }]\n          }\n        });\n      }\n      // Mock get all sensors\n      else if (endpoint === '/sensors' && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              name: 'Temperature Sensor 1',\n              type: 'temperature',\n              location: 'Greenhouse 1',\n              status: 'active',\n              last_reading: {\n                value: 24.5,\n                unit: '°C',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 2,\n              name: 'Humidity Sensor 1',\n              type: 'humidity',\n              location: 'Greenhouse 1',\n              status: 'active',\n              last_reading: {\n                value: 65,\n                unit: '%',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 3,\n              name: 'Light Sensor 1',\n              type: 'light',\n              location: 'Greenhouse 2',\n              status: 'active',\n              last_reading: {\n                value: 3500,\n                unit: 'lux',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 4,\n              name: 'Soil Moisture Sensor 1',\n              type: 'soil_moisture',\n              location: 'Greenhouse 1',\n              status: 'inactive',\n              last_reading: {\n                value: 42,\n                unit: '%',\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\n              }\n            }]\n          }\n        });\n      }\n      // Mock get single sensor\n      else if (endpoint.match(/\\/sensors\\/\\d+$/) && method === 'GET') {\n        const id = parseInt(endpoint.split('/').pop());\n        let sensor = {};\n        switch (id) {\n          case 1:\n            sensor = {\n              id: 1,\n              name: 'Temperature Sensor 1',\n              type: 'temperature',\n              location: 'Greenhouse 1',\n              status: 'active',\n              description: 'Primary temperature sensor for monitoring greenhouse conditions.',\n              mqtt_topic: 'farm/sensors/temperature/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'DHT22',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 24.5,\n                unit: '°C',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 24.5\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 25.1\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 25.4\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 25.8\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 26.2\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 26.5\n              }]\n            };\n            break;\n          case 2:\n            sensor = {\n              id: 2,\n              name: 'Humidity Sensor 1',\n              type: 'humidity',\n              location: 'Greenhouse 1',\n              status: 'active',\n              description: 'Primary humidity sensor for monitoring greenhouse conditions.',\n              mqtt_topic: 'farm/sensors/humidity/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'DHT22',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 65,\n                unit: '%',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 65\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 64\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 63\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 62\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 60\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 59\n              }]\n            };\n            break;\n          case 3:\n            sensor = {\n              id: 3,\n              name: 'Light Sensor 1',\n              type: 'light',\n              location: 'Greenhouse 2',\n              status: 'active',\n              description: 'Light sensor for monitoring lighting conditions.',\n              mqtt_topic: 'farm/sensors/light/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'BH1750',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 3500,\n                unit: 'lux',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 3500\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 3200\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 2900\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 2500\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 2000\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 1500\n              }]\n            };\n            break;\n          case 4:\n            sensor = {\n              id: 4,\n              name: 'Soil Moisture Sensor 1',\n              type: 'soil_moisture',\n              location: 'Greenhouse 1',\n              status: 'inactive',\n              description: 'Soil moisture sensor for monitoring soil conditions.',\n              mqtt_topic: 'farm/sensors/soil_moisture/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'YL-69',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 42,\n                unit: '%',\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 25 * 60 * 60 * 1000).toISOString(),\n                value: 42\n              }, {\n                timestamp: new Date(Date.now() - 26 * 60 * 60 * 1000).toISOString(),\n                value: 43\n              }, {\n                timestamp: new Date(Date.now() - 27 * 60 * 60 * 1000).toISOString(),\n                value: 44\n              }, {\n                timestamp: new Date(Date.now() - 28 * 60 * 60 * 1000).toISOString(),\n                value: 45\n              }, {\n                timestamp: new Date(Date.now() - 29 * 60 * 60 * 1000).toISOString(),\n                value: 46\n              }, {\n                timestamp: new Date(Date.now() - 30 * 60 * 60 * 1000).toISOString(),\n                value: 47\n              }]\n            };\n            break;\n          default:\n            sensor = null;\n        }\n        resolve({\n          data: {\n            success: true,\n            data: sensor\n          }\n        });\n      }\n      // Mock get actuator operation logs\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/logs$/) && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\n              status: 'on',\n              message: 'Manual activation of actuator',\n              user: 'admin',\n              source: 'web'\n            }, {\n              id: 2,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n              status: 'off',\n              message: 'Actuator turned off by automatic rule',\n              user: 'system',\n              source: 'rule'\n            }, {\n              id: 3,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 60 * 12).toISOString(),\n              status: 'on',\n              message: 'Adjusted actuator parameters',\n              user: 'admin',\n              source: 'api'\n            }]\n          }\n        });\n      }\n      // Mock get actuator allowed statuses\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/statuses$/) && method === 'GET') {\n        const id = parseInt(endpoint.split('/')[2]);\n        let statuses = [];\n        switch (id) {\n          case 1:\n            // Irrigation\n            statuses = ['on', 'off'];\n            break;\n          case 2:\n            // Fan\n            statuses = ['off', 'low', 'medium', 'high'];\n            break;\n          case 3:\n            // Lighting\n            statuses = ['on', 'off', 'dim'];\n            break;\n          case 4:\n            // Humidifier\n            statuses = ['on', 'off', 'auto'];\n            break;\n          default:\n            statuses = ['on', 'off'];\n        }\n        resolve({\n          data: {\n            success: true,\n            data: statuses\n          }\n        });\n      }\n      // Mock control actuator\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/control$/) && method === 'POST') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Operation successful',\n            data: {\n              ...data,\n              timestamp: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator\n      else if (endpoint.match(/\\/actuators\\/\\d+$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator auto rules\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/rules$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Rule update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator parameters\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/parameters$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Parameter update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock register user\n      else if (endpoint === '/users/register' && method === 'POST') {\n        // 模拟用户注册\n        if (!data.username || !data.email || !data.password) {\n          resolve({\n            data: {\n              success: false,\n              message: 'Missing required fields'\n            },\n            status: 400\n          });\n          return;\n        }\n\n        // 模拟检查用户名是否已存在\n        if (data.username === 'admin' || data.username === 'user1') {\n          resolve({\n            data: {\n              success: false,\n              message: `Username ${data.username} is already taken`\n            },\n            status: 409\n          });\n          return;\n        }\n\n        // 模拟检查邮箱是否已存在\n        if (data.email === 'admin@smartfarm.com' || data.email === 'user1@smartfarm.com') {\n          resolve({\n            data: {\n              success: false,\n              message: `Email ${data.email} is already registered`\n            },\n            status: 409\n          });\n          return;\n        }\n\n        // 注册成功\n        resolve({\n          data: {\n            success: true,\n            message: 'User registered successfully',\n            data: {\n              id: Math.floor(Math.random() * 1000) + 10,\n              username: data.username,\n              email: data.email,\n              role: 'user',\n              is_active: true,\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString()\n            }\n          },\n          status: 201\n        });\n      }\n      // Mock login user\n      else if (endpoint === '/users/login' && method === 'POST') {\n        // 模拟用户登录\n        if (!data.email || !data.password) {\n          resolve({\n            data: {\n              success: false,\n              message: 'Missing required fields'\n            },\n            status: 400\n          });\n          return;\n        }\n\n        // 检查测试账户\n        if (data.email === 'admin@smartfarm.com' && data.password === 'password123' || data.email === 'user1@smartfarm.com' && data.password === 'password123' || data.password === 'password123') {\n          // 任何email只要密码对都通过\n          const isAdmin = data.email === 'admin@smartfarm.com';\n          const isUser = data.email === 'user1@smartfarm.com';\n          resolve({\n            data: {\n              success: true,\n              message: 'Login successful',\n              data: {\n                user: {\n                  id: isAdmin ? 1 : isUser ? 2 : 999,\n                  username: isAdmin ? 'admin' : isUser ? 'user1' : data.email.split('@')[0],\n                  email: data.email,\n                  role: isAdmin ? 'admin' : 'user',\n                  is_active: true,\n                  last_login: new Date().toISOString(),\n                  created_at: '2023-01-01T00:00:00Z',\n                  updated_at: new Date().toISOString()\n                },\n                token: 'mock-jwt-token-' + Math.random().toString(36).substring(2)\n              }\n            },\n            status: 200\n          });\n        } else {\n          resolve({\n            data: {\n              success: false,\n              message: 'Invalid email or password'\n            },\n            status: 401\n          });\n        }\n      }\n      // Other endpoints can be added as needed\n      else {\n        resolve({\n          data: {\n            success: true,\n            message: 'Operation completed',\n            data: null\n          }\n        });\n      }\n    }, 500); // Simulate network delay\n  });\n};\n\n// Export API services with corrected endpoint paths\nexport const authAPI = {\n  login: data => apiCall('/users/login', 'POST', data),\n  register: data => apiCall('/users/register', 'POST', data),\n  getProfile: () => apiCall('/users/profile'),\n  updateProfile: data => apiCall('/users/profile', 'PUT', data),\n  changePassword: data => apiCall('/users/change-password', 'POST', data)\n};\nexport const dashboardAPI = {\n  getSummary: () => {\n    // Use data from mock database for dashboard\n    console.log('获取仪表盘摘要数据');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Count actuator statuses\n        const actuatorStatuses = {};\n        mockActuatorDatabase.actuators.forEach(actuator => {\n          if (!actuatorStatuses[actuator.type]) {\n            actuatorStatuses[actuator.type] = {\n              on: 0,\n              off: 0,\n              error: 0\n            };\n          }\n          if (actuator.status === 'on') {\n            actuatorStatuses[actuator.type].on += 1;\n          } else if (actuator.status === 'off') {\n            actuatorStatuses[actuator.type].off += 1;\n          } else if (actuator.status === 'error') {\n            actuatorStatuses[actuator.type].error += 1;\n          }\n        });\n\n        // Calculate active actuators\n        const activeActuators = mockActuatorDatabase.actuators.filter(a => a.is_active).length;\n\n        // Get latest sensor readings for each type\n        const latestReadings = {};\n        mockSensorDatabase.sensors.forEach(sensor => {\n          if (sensor.is_active && sensor.last_reading) {\n            if (!latestReadings[sensor.type] || new Date(sensor.last_reading.timestamp) > new Date(latestReadings[sensor.type].timestamp)) {\n              latestReadings[sensor.type] = {\n                value: sensor.last_reading.value,\n                unit: sensor.last_reading.unit,\n                sensor_location: sensor.location,\n                timestamp: sensor.last_reading.timestamp\n              };\n            }\n          }\n        });\n\n        // Count active sensors\n        const activeSensors = mockSensorDatabase.sensors.filter(s => s.is_active).length;\n\n        // Add some logging to see what's being returned\n        console.log('仪表盘传感器数据:', {\n          total: mockSensorDatabase.sensors.length,\n          active: activeSensors,\n          latest_readings: latestReadings\n        });\n        console.log('仪表盘执行器数据:', {\n          total: mockActuatorDatabase.actuators.length,\n          active: activeActuators,\n          statuses: actuatorStatuses\n        });\n\n        // Make sure to return the correct data structure expected by Dashboard component\n        resolve({\n          success: true,\n          data: {\n            sensors: {\n              total: mockSensorDatabase.sensors.length,\n              active: activeSensors,\n              latest_readings: latestReadings\n            },\n            actuators: {\n              total: mockActuatorDatabase.actuators.length,\n              active: activeActuators,\n              statuses: actuatorStatuses\n            },\n            alerts: {\n              total: 5,\n              unread: 2,\n              recent: [{\n                id: 1,\n                type: 'temperature',\n                message: 'Greenhouse 1 temperature above threshold (30°C)',\n                created_at: new Date(Date.now() - 10 * 60000).toISOString(),\n                is_read: false\n              }, {\n                id: 2,\n                type: 'actuator',\n                message: 'Greenhouse 2 irrigation system started',\n                created_at: new Date(Date.now() - 30 * 60000).toISOString(),\n                is_read: true\n              }]\n            }\n          }\n        });\n      }, 500); // Simulate network delay\n    });\n  }\n};\nexport const sensorAPI = {\n  getAllSensors: () => {\n    // Use mock data from sensor database\n    console.log('获取所有传感器列表');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          success: true,\n          data: mockSensorDatabase.sensors\n        });\n      }, 500); // Simulate network delay\n    });\n  },\n  getSensor: id => {\n    // Get specific sensor from mock database\n    console.log(`获取传感器详情, ID: ${id}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const sensor = mockSensorDatabase.sensors.find(s => s.id === parseInt(id));\n        if (sensor) {\n          resolve({\n            success: true,\n            data: sensor\n          });\n        } else {\n          resolve({\n            success: false,\n            message: `Sensor with ID ${id} not found`\n          });\n        }\n      }, 500); // Simulate network delay\n    });\n  },\n  getSensorData: (id, timeRange) => apiCall(`/sensors/${id}/data?timeRange=${timeRange}`),\n  updateSensor: (id, data) => apiCall(`/sensors/${id}`, 'PUT', data),\n  calibrateSensor: (id, data) => apiCall(`/sensors/${id}/calibrate`, 'POST', data)\n};\nexport const actuatorAPI = {\n  getAllActuators: () => {\n    // Use data from localStorage if available, otherwise use mock data\n    console.log('Getting all actuators');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Try to get from localStorage first\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        if (savedActuators) {\n          // If localStorage has data, use it\n          resolve({\n            success: true,\n            data: JSON.parse(savedActuators)\n          });\n        } else {\n          // Otherwise use mock data and save it to localStorage\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(mockActuatorDatabase.actuators));\n          resolve({\n            success: true,\n            data: mockActuatorDatabase.actuators\n          });\n        }\n      }, 500); // Simulate network delay\n    });\n  },\n  getActuator: id => {\n    // Use data from localStorage if available, otherwise use mock data\n    console.log(`Getting actuator details, ID: ${id}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Try to get from localStorage first\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        let actuator = null;\n        if (savedActuators) {\n          const actuators = JSON.parse(savedActuators);\n          actuator = actuators.find(a => a.id === parseInt(id));\n        }\n\n        // If not found in localStorage, try mock database\n        if (!actuator) {\n          actuator = mockActuatorDatabase.actuators.find(a => a.id === parseInt(id));\n        }\n\n        // If still not found, return default\n        if (!actuator) {\n          actuator = {\n            id: parseInt(id),\n            name: `Unknown Actuator ${id}`,\n            type: 'unknown',\n            location: 'Unknown',\n            status: 'error',\n            mode: 'manual',\n            is_active: false,\n            mqtt_topic: `farm/actuators/unknown/${id}`,\n            created_at: '2023-10-01T08:00:00Z',\n            updated_at: '2023-11-15T10:30:00Z'\n          };\n        }\n        resolve({\n          success: true,\n          data: actuator\n        });\n      }, 500); // Simulate network delay\n    });\n  },\n  getActuatorLogs: id => {\n    // Get logs for specific actuator from mock database\n    console.log(`Getting actuator logs, ID: ${id}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const logs = mockActuatorDatabase.logs.filter(log => log.actuator_id === parseInt(id)).sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n        if (logs.length === 0) {\n          // If no logs exist yet, return some default ones\n          logs.push({\n            id: 1,\n            actuator_id: parseInt(id),\n            timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\n            status: 'on',\n            message: 'Manual activation of actuator',\n            user: 'admin',\n            source: 'web',\n            previous_state: 'off',\n            parameters: {}\n          }, {\n            id: 2,\n            actuator_id: parseInt(id),\n            timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n            status: 'off',\n            message: 'Actuator turned off by automatic rule',\n            user: 'system',\n            source: 'rule',\n            previous_state: 'on',\n            parameters: {}\n          });\n        }\n        resolve({\n          success: true,\n          data: logs\n        });\n      }, 500); // Simulate network delay\n    });\n  },\n  getActuatorStatuses: id => {\n    // Return available statuses based on actuator type\n    console.log(`Getting actuator status options, ID: ${id}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const actuator = mockActuatorDatabase.actuators.find(a => a.id === parseInt(id));\n        let statuses = ['on', 'off']; // Default statuses\n\n        if (actuator) {\n          switch (actuator.type) {\n            case 'fan':\n              statuses = ['off', 'low', 'medium', 'high'];\n              break;\n            case 'lighting':\n              statuses = ['on', 'off', 'dim'];\n              break;\n            case 'humidifier':\n              statuses = ['on', 'off', 'auto'];\n              break;\n            case 'curtain':\n              statuses = ['open', 'closed', 'half'];\n              break;\n          }\n        }\n        resolve({\n          success: true,\n          data: statuses\n        });\n      }, 500); // Simulate network delay\n    });\n  },\n  controlActuator: (id, data) => {\n    // Update actuator status in localStorage\n    console.log(`Controlling actuator, ID: ${id}, Action: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get the action from the data\n        const action = data.action;\n\n        // Get actuators from localStorage\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        let actuators = [];\n        if (savedActuators) {\n          actuators = JSON.parse(savedActuators);\n        } else {\n          actuators = mockActuatorDatabase.actuators;\n        }\n\n        // Find the actuator to update\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\n        if (actuatorIndex === -1) {\n          resolve({\n            success: false,\n            message: `Actuator with ID ${id} not found`\n          });\n          return;\n        }\n\n        // Record previous status to detect changes\n        const previousStatus = actuators[actuatorIndex].status;\n\n        // Update the actuator\n        actuators[actuatorIndex].status = action;\n        actuators[actuatorIndex].last_control_time = new Date().toISOString();\n\n        // Save back to localStorage\n        localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\n\n        // Also update the mock database for other operations\n        const updatedActuator = updateActuatorInDatabase(id, {\n          status: action,\n          last_control_time: new Date().toISOString()\n        });\n\n        // Add a log entry\n        const log = addLogToDatabase(id, action, `Actuator ${action === 'on' ? 'turned on' : 'turned off'} manually`, 'web', 'admin', previousStatus, {});\n        console.log(`Actuator ${id} status changed from ${previousStatus} to ${action}`);\n        resolve({\n          success: true,\n          message: 'Operation successful',\n          data: {\n            actuator: actuators[actuatorIndex],\n            log: log\n          }\n        });\n      }, 500); // Simulate network delay\n    });\n  },\n  updateActuator: (id, data) => {\n    // Update actuator properties in localStorage\n    console.log(`Updating actuator, ID: ${id}, Data: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get actuators from localStorage\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        let actuators = [];\n        if (savedActuators) {\n          actuators = JSON.parse(savedActuators);\n        } else {\n          actuators = mockActuatorDatabase.actuators;\n        }\n\n        // Find the actuator to update\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\n        if (actuatorIndex !== -1) {\n          // Update the actuator\n          actuators[actuatorIndex] = {\n            ...actuators[actuatorIndex],\n            ...data,\n            updated_at: new Date().toISOString()\n          };\n\n          // Save back to localStorage\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\n\n          // Also update the mock database for other operations\n          const updatedActuator = updateActuatorInDatabase(id, data);\n          addLogToDatabase(id, actuators[actuatorIndex].status, 'Actuator settings updated', 'web', 'admin', actuators[actuatorIndex].status, {});\n          resolve({\n            success: true,\n            message: 'Update successful',\n            data: actuators[actuatorIndex]\n          });\n        } else {\n          resolve({\n            success: false,\n            message: `Actuator with ID ${id} not found`\n          });\n        }\n      }, 500); // Simulate network delay\n    });\n  },\n  updateAutoRules: (id, data) => {\n    // Update actuator rules in localStorage and mock database\n    console.log(`Updating actuator rules, ID: ${id}, Rules: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get actuators from localStorage\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        let actuators = [];\n        if (savedActuators) {\n          actuators = JSON.parse(savedActuators);\n        } else {\n          actuators = mockActuatorDatabase.actuators;\n        }\n\n        // Find the actuator to update\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\n        if (actuatorIndex !== -1) {\n          // Update auto rules\n          actuators[actuatorIndex].auto_rules = data;\n          actuators[actuatorIndex].updated_at = new Date().toISOString();\n\n          // Save back to localStorage\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\n\n          // Also update the mock database for other operations\n          const updatedActuator = updateActuatorInDatabase(id, {\n            auto_rules: data,\n            updated_at: new Date().toISOString()\n          });\n          addLogToDatabase(id, actuators[actuatorIndex].status, 'Actuator automation rules updated', 'web', 'admin', actuators[actuatorIndex].status, {});\n          resolve({\n            success: true,\n            message: 'Rules updated successfully',\n            data: actuators[actuatorIndex]\n          });\n        } else {\n          resolve({\n            success: false,\n            message: `Actuator with ID ${id} not found`\n          });\n        }\n      }, 500); // Simulate network delay\n    });\n  },\n  updateParameters: (id, data) => {\n    // Update actuator parameters in localStorage and mock database\n    console.log(`Updating actuator parameters, ID: ${id}, Parameters: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get actuators from localStorage\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\n        let actuators = [];\n        if (savedActuators) {\n          actuators = JSON.parse(savedActuators);\n        } else {\n          actuators = mockActuatorDatabase.actuators;\n        }\n\n        // Find the actuator to update\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\n        if (actuatorIndex !== -1) {\n          // Add parameters property if it doesn't exist\n          if (!actuators[actuatorIndex].parameters) {\n            actuators[actuatorIndex].parameters = {};\n          }\n\n          // Update parameters\n          actuators[actuatorIndex].parameters = {\n            ...actuators[actuatorIndex].parameters,\n            ...data\n          };\n          actuators[actuatorIndex].updated_at = new Date().toISOString();\n\n          // Save back to localStorage\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\n\n          // Also update the mock database for other operations\n          const updatedActuator = updateActuatorInDatabase(id, {\n            parameters: {\n              ...actuators[actuatorIndex].parameters\n            },\n            updated_at: new Date().toISOString()\n          });\n          addLogToDatabase(id, actuators[actuatorIndex].status, 'Actuator parameters updated', 'web', 'admin', actuators[actuatorIndex].status, data);\n          resolve({\n            success: true,\n            message: 'Parameters updated successfully',\n            data: actuators[actuatorIndex]\n          });\n        } else {\n          resolve({\n            success: false,\n            message: `Actuator with ID ${id} not found`\n          });\n        }\n      }, 500); // Simulate network delay\n    });\n  }\n};\nexport const alertAPI = {\n  getAlerts: (page = 1, limit = 10) => apiCall(`/alerts?page=${page}&limit=${limit}`),\n  markAsRead: id => apiCall(`/alerts/${id}/read`, 'POST'),\n  markAllAsRead: () => apiCall('/alerts/read-all', 'POST'),\n  deleteAlert: id => apiCall(`/alerts/${id}`, 'DELETE'),\n  getAlertSettings: () => apiCall('/alerts/settings'),\n  updateAlertSettings: data => apiCall('/alerts/settings', 'PUT', data),\n  // Mock implementation with localStorage persistence\n  getAllAlerts: () => {\n    console.log('Getting all alerts');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Use mock data for demonstration\n        const mockAlerts = generateMockAlerts(50);\n        resolve({\n          success: true,\n          data: mockAlerts\n        });\n      }, 500);\n    });\n  },\n  getAlertThresholds: () => {\n    console.log('Getting alert thresholds');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Try to get from localStorage first\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\n        if (savedThresholds) {\n          // If localStorage has data, use it\n          resolve({\n            success: true,\n            data: JSON.parse(savedThresholds)\n          });\n        } else {\n          // Otherwise use default thresholds\n          const defaultThresholds = [{\n            id: 1,\n            sensor_type: 'temperature',\n            condition: 'gt',\n            threshold: 30,\n            severity: 'high',\n            notification_method: ['app', 'email'],\n            is_active: true\n          }, {\n            id: 2,\n            sensor_type: 'temperature',\n            condition: 'lt',\n            threshold: 10,\n            severity: 'medium',\n            notification_method: ['app'],\n            is_active: true\n          }, {\n            id: 3,\n            sensor_type: 'humidity',\n            condition: 'gt',\n            threshold: 85,\n            severity: 'medium',\n            notification_method: ['app'],\n            is_active: true\n          }, {\n            id: 4,\n            sensor_type: 'humidity',\n            condition: 'lt',\n            threshold: 30,\n            severity: 'medium',\n            notification_method: ['app', 'email'],\n            is_active: true\n          }, {\n            id: 5,\n            sensor_type: 'soil_moisture',\n            condition: 'lt',\n            threshold: 20,\n            severity: 'high',\n            notification_method: ['app', 'email', 'sms'],\n            is_active: true\n          }];\n\n          // Save to localStorage for future use\n          localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(defaultThresholds));\n          resolve({\n            success: true,\n            data: defaultThresholds\n          });\n        }\n      }, 500);\n    });\n  },\n  updateAlertThreshold: (id, data) => {\n    console.log(`Updating alert threshold, ID: ${id}, Data: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get thresholds from localStorage\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\n        let thresholds = [];\n        if (savedThresholds) {\n          thresholds = JSON.parse(savedThresholds);\n        }\n\n        // Find the threshold to update\n        const thresholdIndex = thresholds.findIndex(t => t.id === parseInt(id));\n        if (thresholdIndex !== -1) {\n          // Update the threshold\n          thresholds[thresholdIndex] = {\n            ...thresholds[thresholdIndex],\n            ...data\n          };\n\n          // Save back to localStorage\n          localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(thresholds));\n          resolve({\n            success: true,\n            message: 'Threshold updated successfully',\n            data: thresholds[thresholdIndex]\n          });\n        } else {\n          resolve({\n            success: false,\n            message: `Threshold with ID ${id} not found`\n          });\n        }\n      }, 500);\n    });\n  },\n  createAlertThreshold: data => {\n    console.log(`Creating new alert threshold: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get thresholds from localStorage\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\n        let thresholds = [];\n        if (savedThresholds) {\n          thresholds = JSON.parse(savedThresholds);\n        }\n\n        // Create new threshold with ID\n        const newThreshold = {\n          ...data,\n          id: thresholds.length > 0 ? Math.max(...thresholds.map(t => t.id)) + 1 : 1\n        };\n\n        // Add to thresholds array\n        thresholds.push(newThreshold);\n\n        // Save back to localStorage\n        localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(thresholds));\n        resolve({\n          success: true,\n          message: 'New threshold created successfully',\n          data: newThreshold\n        });\n      }, 500);\n    });\n  },\n  deleteAlertThreshold: id => {\n    console.log(`Deleting alert threshold, ID: ${id}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Get thresholds from localStorage\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\n        if (!savedThresholds) {\n          resolve({\n            success: false,\n            message: 'No thresholds found'\n          });\n          return;\n        }\n        let thresholds = JSON.parse(savedThresholds);\n\n        // Filter out the threshold to delete\n        const newThresholds = thresholds.filter(t => t.id !== parseInt(id));\n        if (newThresholds.length === thresholds.length) {\n          resolve({\n            success: false,\n            message: `Threshold with ID ${id} not found`\n          });\n          return;\n        }\n\n        // Save back to localStorage\n        localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(newThresholds));\n        resolve({\n          success: true,\n          message: 'Threshold deleted successfully'\n        });\n      }, 500);\n    });\n  },\n  getUserPreferences: () => {\n    console.log('Getting user alert preferences');\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Try to get from localStorage first\n        const savedPrefs = localStorage.getItem('smart_farm_alert_preferences');\n        if (savedPrefs) {\n          // If localStorage has data, use it\n          resolve({\n            success: true,\n            data: JSON.parse(savedPrefs)\n          });\n        } else {\n          // Otherwise use default preferences\n          const defaultPreferences = {\n            receive_email_notifications: true,\n            receive_sms_notifications: false,\n            email_address: 'user@example.com',\n            phone_number: '',\n            mute_notifications: false,\n            auto_acknowledge_low_severity: false\n          };\n\n          // Save to localStorage for future use\n          localStorage.setItem('smart_farm_alert_preferences', JSON.stringify(defaultPreferences));\n          resolve({\n            success: true,\n            data: defaultPreferences\n          });\n        }\n      }, 500);\n    });\n  },\n  updateUserPreferences: data => {\n    console.log(`Updating user alert preferences: ${JSON.stringify(data)}`);\n    return new Promise(resolve => {\n      setTimeout(() => {\n        // Save to localStorage\n        localStorage.setItem('smart_farm_alert_preferences', JSON.stringify(data));\n        resolve({\n          success: true,\n          message: 'User preferences updated successfully',\n          data: data\n        });\n      }, 500);\n    });\n  }\n};\nexport const analyticsAPI = {\n  getSensorStats: timeRange => apiCall(`/analytics/sensors?timeRange=${timeRange}`),\n  getActuatorStats: timeRange => apiCall(`/analytics/actuators?timeRange=${timeRange}`),\n  getCorrelationData: (sensors, timeRange) => apiCall(`/analytics/correlation?sensors=${sensors.join(',')}&timeRange=${timeRange}`),\n  getEnergyUsage: timeRange => apiCall(`/analytics/energy?timeRange=${timeRange}`),\n  getYieldData: timeRange => apiCall(`/analytics/yield?timeRange=${timeRange}`)\n};\nexport const settingsAPI = {\n  getSystemSettings: () => apiCall('/settings/system'),\n  updateSystemSettings: data => apiCall('/settings/system', 'PUT', data),\n  getNotificationSettings: () => apiCall('/settings/notifications'),\n  updateNotificationSettings: data => apiCall('/settings/notifications', 'PUT', data),\n  getBackupSettings: () => apiCall('/settings/backup'),\n  updateBackupSettings: data => apiCall('/settings/backup', 'PUT', data),\n  backupNow: () => apiCall('/settings/backup/now', 'POST'),\n  restoreBackup: id => apiCall(`/settings/backup/restore/${id}`, 'POST'),\n  getDeviceSettings: () => apiCall('/settings/devices'),\n  updateDeviceSettings: data => apiCall('/settings/devices', 'PUT', data)\n};\n\n// Generate mock alerts for testing purposes\nconst generateMockAlerts = (count = 20) => {\n  const alertTypes = [{\n    type: 'temperature_high',\n    message: 'Temperature too high',\n    severity: 'high',\n    icon: null,\n    color: 'error'\n  }, {\n    type: 'temperature_low',\n    message: 'Temperature too low',\n    severity: 'medium',\n    icon: null,\n    color: 'warning'\n  }, {\n    type: 'humidity_high',\n    message: 'Humidity too high',\n    severity: 'medium',\n    icon: null,\n    color: 'warning'\n  }, {\n    type: 'humidity_low',\n    message: 'Humidity too low',\n    severity: 'medium',\n    icon: null,\n    color: 'warning'\n  }, {\n    type: 'soil_moisture_low',\n    message: 'Soil moisture too low',\n    severity: 'high',\n    icon: null,\n    color: 'error'\n  }, {\n    type: 'light_low',\n    message: 'Insufficient light',\n    severity: 'low',\n    icon: null,\n    color: 'info'\n  }, {\n    type: 'actuator_failure',\n    message: 'Actuator failure',\n    severity: 'high',\n    icon: null,\n    color: 'error'\n  }, {\n    type: 'system_warning',\n    message: 'System warning',\n    severity: 'low',\n    icon: null,\n    color: 'info'\n  }, {\n    type: 'connection_lost',\n    message: 'Connection lost',\n    severity: 'medium',\n    icon: null,\n    color: 'warning'\n  }, {\n    type: 'power_warning',\n    message: 'Power warning',\n    severity: 'medium',\n    icon: null,\n    color: 'warning'\n  }];\n  const locations = ['Greenhouse 1', 'Greenhouse 2', 'Greenhouse 3', 'Equipment Room', 'Control Center'];\n  const devices = ['Temperature Sensor 01', 'Temperature Sensor 02', 'Humidity Sensor 01', 'Humidity Sensor 02', 'Soil Moisture Sensor 01', 'Light Sensor 01', 'Irrigation System 01', 'Ventilation System 01', 'Lighting System 01'];\n  const alerts = [];\n  const now = new Date();\n  for (let i = 0; i < count; i++) {\n    const alertType = alertTypes[Math.floor(Math.random() * alertTypes.length)];\n    const location = locations[Math.floor(Math.random() * locations.length)];\n    const device = devices[Math.floor(Math.random() * devices.length)];\n    const timestamp = new Date(now.getTime() - Math.random() * 7 * 24 * 60 * 60 * 1000);\n    const is_read = Math.random() > 0.3; // 30% unread\n    const is_acknowledged = is_read && Math.random() > 0.5; // 50% of read alerts are acknowledged\n\n    const values = {};\n    if (alertType.type.includes('temperature')) {\n      values.temperature = alertType.type.includes('high') ? (30 + Math.random() * 10).toFixed(1) : (5 + Math.random() * 10).toFixed(1);\n      values.unit = '°C';\n      values.threshold = alertType.type.includes('high') ? '30.0°C' : '10.0°C';\n    } else if (alertType.type.includes('humidity')) {\n      values.humidity = alertType.type.includes('high') ? (85 + Math.random() * 15).toFixed(1) : (20 + Math.random() * 10).toFixed(1);\n      values.unit = '%';\n      values.threshold = alertType.type.includes('high') ? '85.0%' : '30.0%';\n    }\n    alerts.push({\n      id: i + 1,\n      type: alertType.type,\n      message: alertType.message,\n      severity: alertType.severity,\n      icon: alertType.icon,\n      color: alertType.color,\n      location,\n      device,\n      values,\n      timestamp,\n      is_read,\n      is_acknowledged,\n      details: `${alertType.message} detected from ${device} in ${location}. Please address promptly.`\n    });\n  }\n  return alerts.sort((a, b) => b.timestamp - a.timestamp);\n};","map":{"version":3,"names":["API_URL","TOKEN_KEY","mockActuatorDatabase","actuators","id","name","type","location","status","mode","is_active","mqtt_topic","created_at","updated_at","last_control_time","description","parameters","water_flow","duration","schedule","auto_threshold","speed","max_speed","direction","auto_trigger_temp","brightness","color_temp","schedule_on","schedule_off","capacity","auto_trigger_humidity","auto_stop_humidity","logs","mockSensorDatabase","sensors","model","manufacturer","calibration_date","last_reading","value","unit","timestamp","Date","toISOString","now","updateActuatorInDatabase","updates","index","findIndex","a","parseInt","updatedActuator","console","log","addLogToDatabase","actuatorId","message","source","user","previous_state","newLog","length","actuator_id","unshift","apiCall","endpoint","method","data","normalizedEndpoint","startsWith","endsWith","url","options","headers","redirect","token","localStorage","getItem","body","JSON","stringify","response","fetch","redirected","result","json","error","includes","mockRegisterResponse","mockLoginResponse","success","userData","registeredUsers","parse","some","u","username","email","newUser","role","push","setItem","credentials","find","password","userWithoutPassword","Math","random","toString","substring","mockApiResponse","Promise","resolve","setTimeout","total","active","latest_readings","temperature","sensor_location","humidity","light","soil_moisture","statuses","irrigation","on","off","ventilation","lighting","heating","alerts","unread","recent","is_read","match","split","pop","sensor","history","floor","isAdmin","isUser","last_login","authAPI","login","register","getProfile","updateProfile","changePassword","dashboardAPI","getSummary","actuatorStatuses","forEach","actuator","activeActuators","filter","latestReadings","activeSensors","s","sensorAPI","getAllSensors","getSensor","getSensorData","timeRange","updateSensor","calibrateSensor","actuatorAPI","getAllActuators","savedActuators","getActuator","getActuatorLogs","sort","b","getActuatorStatuses","controlActuator","action","actuatorIndex","previousStatus","updateActuator","updateAutoRules","auto_rules","updateParameters","alertAPI","getAlerts","page","limit","markAsRead","markAllAsRead","deleteAlert","getAlertSettings","updateAlertSettings","getAllAlerts","mockAlerts","generateMockAlerts","getAlertThresholds","savedThresholds","defaultThresholds","sensor_type","condition","threshold","severity","notification_method","updateAlertThreshold","thresholds","thresholdIndex","t","createAlertThreshold","newThreshold","max","map","deleteAlertThreshold","newThresholds","getUserPreferences","savedPrefs","defaultPreferences","receive_email_notifications","receive_sms_notifications","email_address","phone_number","mute_notifications","auto_acknowledge_low_severity","updateUserPreferences","analyticsAPI","getSensorStats","getActuatorStats","getCorrelationData","join","getEnergyUsage","getYieldData","settingsAPI","getSystemSettings","updateSystemSettings","getNotificationSettings","updateNotificationSettings","getBackupSettings","updateBackupSettings","backupNow","restoreBackup","getDeviceSettings","updateDeviceSettings","count","alertTypes","icon","color","locations","devices","i","alertType","device","getTime","is_acknowledged","values","toFixed","details"],"sources":["C:/Users/LIJIN/Desktop/webTest/Bak/webTest/frontend/src/services/api.js"],"sourcesContent":["import { API_URL, TOKEN_KEY } from '../config';\r\n\r\n// Client-side mock database for actuators\r\nconst mockActuatorDatabase = {\r\n  actuators: [\r\n    {\r\n      id: 1,\r\n      name: 'Greenhouse 1 Irrigation System',\r\n      type: 'irrigation',\r\n      location: 'Greenhouse 1',\r\n      status: 'off',\r\n      mode: 'manual',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/actuators/irrigation/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      last_control_time: '2023-11-14T14:20:00Z',\r\n      description: 'Main irrigation system for Greenhouse 1',\r\n      parameters: {\r\n        water_flow: 2.5,\r\n        duration: 30,\r\n        schedule: 'daily',\r\n        auto_threshold: 30\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Greenhouse 2 Ventilation Fan',\r\n      type: 'fan',\r\n      location: 'Greenhouse 2',\r\n      status: 'low',\r\n      mode: 'auto',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/actuators/fan/2',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      description: 'Main ventilation fan for Greenhouse 2',\r\n      parameters: {\r\n        speed: 2,\r\n        max_speed: 5,\r\n        direction: 'forward',\r\n        auto_trigger_temp: 28\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Greenhouse 1 Lighting System',\r\n      type: 'lighting',\r\n      location: 'Greenhouse 1',\r\n      status: 'on',\r\n      mode: 'auto',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/actuators/lighting/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      description: 'Main lighting system for Greenhouse 1',\r\n      parameters: {\r\n        brightness: 80,\r\n        color_temp: 4000,\r\n        schedule_on: '06:00',\r\n        schedule_off: '20:00'\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Greenhouse 3 Humidifier',\r\n      type: 'humidifier',\r\n      location: 'Greenhouse 3',\r\n      status: 'off',\r\n      mode: 'manual',\r\n      is_active: false,\r\n      mqtt_topic: 'farm/actuators/humidifier/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      description: 'Main humidifier for Greenhouse 3',\r\n      parameters: {\r\n        capacity: 5,\r\n        auto_trigger_humidity: 40,\r\n        auto_stop_humidity: 60\r\n      }\r\n    }\r\n  ],\r\n  logs: []\r\n};\r\n\r\n// Client-side mock database for sensors\r\nconst mockSensorDatabase = {\r\n  sensors: [\r\n    {\r\n      id: 1,\r\n      name: 'Temperature Sensor 1',\r\n      type: 'temperature',\r\n      location: 'Greenhouse 1',\r\n      status: 'active',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/sensors/temperature/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      model: 'DHT22',\r\n      manufacturer: 'Acme Sensors',\r\n      calibration_date: '2023-09-15T00:00:00Z',\r\n      last_reading: {\r\n        value: 24.5,\r\n        unit: '°C',\r\n        timestamp: new Date().toISOString()\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Humidity Sensor 1',\r\n      type: 'humidity',\r\n      location: 'Greenhouse 1',\r\n      status: 'active',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/sensors/humidity/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      model: 'DHT22',\r\n      manufacturer: 'Acme Sensors',\r\n      calibration_date: '2023-09-15T00:00:00Z',\r\n      last_reading: {\r\n        value: 65,\r\n        unit: '%',\r\n        timestamp: new Date().toISOString()\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Light Sensor 1',\r\n      type: 'light',\r\n      location: 'Greenhouse 2',\r\n      status: 'active',\r\n      is_active: true,\r\n      mqtt_topic: 'farm/sensors/light/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      model: 'BH1750',\r\n      manufacturer: 'Acme Sensors',\r\n      calibration_date: '2023-09-15T00:00:00Z',\r\n      last_reading: {\r\n        value: 3500,\r\n        unit: 'lux',\r\n        timestamp: new Date().toISOString()\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Soil Moisture Sensor 1',\r\n      type: 'soil_moisture',\r\n      location: 'Greenhouse 1',\r\n      status: 'inactive',\r\n      is_active: false,\r\n      mqtt_topic: 'farm/sensors/soil_moisture/1',\r\n      created_at: '2023-10-01T08:00:00Z',\r\n      updated_at: '2023-11-15T10:30:00Z',\r\n      model: 'YL-69',\r\n      manufacturer: 'Acme Sensors',\r\n      calibration_date: '2023-09-15T00:00:00Z',\r\n      last_reading: {\r\n        value: 42,\r\n        unit: '%',\r\n        timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\n// Helper function to update actuator in mock database\r\nconst updateActuatorInDatabase = (id, updates) => {\r\n  const index = mockActuatorDatabase.actuators.findIndex(a => a.id === parseInt(id));\r\n  if (index !== -1) {\r\n    const updatedActuator = {\r\n      ...mockActuatorDatabase.actuators[index],\r\n      ...updates,\r\n      updated_at: new Date().toISOString()\r\n    };\r\n    mockActuatorDatabase.actuators[index] = updatedActuator;\r\n    console.log(`执行器 ${id} 已更新:`, updatedActuator);\r\n    return updatedActuator;\r\n  }\r\n  return null;\r\n};\r\n\r\n// Helper function to add a log to the mock database\r\nconst addLogToDatabase = (actuatorId, status, message, source = 'web', user = 'admin', previous_state = null, parameters = {}) => {\r\n  const newLog = {\r\n    id: mockActuatorDatabase.logs.length + 1,\r\n    actuator_id: parseInt(actuatorId),\r\n    timestamp: new Date().toISOString(),\r\n    status,\r\n    message,\r\n    user,\r\n    source,\r\n    previous_state,\r\n    parameters\r\n  };\r\n  mockActuatorDatabase.logs.unshift(newLog); // Add to beginning of array\r\n  console.log(`Actuator ${actuatorId} log added:`, newLog);\r\n  return newLog;\r\n};\r\n\r\n// Create common API call method\r\nconst apiCall = async (endpoint, method = 'GET', data = null) => {\r\n  // 确保endpoint以/开头，并且以/结尾，避免308重定向问题\r\n  let normalizedEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\r\n  normalizedEndpoint = normalizedEndpoint.endsWith('/') ? normalizedEndpoint : `${normalizedEndpoint}/`;\r\n  \r\n  const url = `${API_URL}${normalizedEndpoint}`;\r\n  \r\n  console.log(`Calling API: ${url}`); // Debug log\r\n  \r\n  const options = {\r\n    method,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    // Follow redirects\r\n    redirect: 'follow'\r\n  };\r\n\r\n  // Add authorization token\r\n  const token = localStorage.getItem(TOKEN_KEY);\r\n  if (token) {\r\n    options.headers['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  // Add request body data\r\n  if (data) {\r\n    options.body = JSON.stringify(data);\r\n  }\r\n\r\n  try {\r\n    // Use real API instead of mock response\r\n    const response = await fetch(url, options);\r\n    \r\n    // Check for redirects\r\n    if (response.redirected) {\r\n      console.log(`API redirected: ${response.url}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    \r\n    console.log(`API response: ${normalizedEndpoint}`, result);  // Debug log\r\n    \r\n    // Return backend response directly\r\n    return result;\r\n  } catch (error) {\r\n    console.error('API call error:', error);\r\n    \r\n    // Use mock response as a fallback when API is unavailable\r\n    console.log('Using mock data as fallback');\r\n    if (endpoint.includes('/users/register') && method === 'POST') {\r\n      // Simulate registration response\r\n      return mockRegisterResponse(data);\r\n    } else if (endpoint.includes('/users/login') && method === 'POST') {\r\n      // Simulate login response\r\n      return mockLoginResponse(data);\r\n    } else {\r\n      // For other endpoints, return a generic success response\r\n      return {\r\n        success: true,\r\n        message: 'Operation completed using mock data',\r\n        data: null\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Mock registration response\r\nconst mockRegisterResponse = (userData) => {\r\n  // Check if username or email already exists in localStorage\r\n  const registeredUsers = JSON.parse(localStorage.getItem('smart_farm_registered_users') || '[]');\r\n  \r\n  if (registeredUsers.some(u => u.username === userData.username)) {\r\n    return {\r\n      success: false,\r\n      message: `Username ${userData.username} is already taken`\r\n    };\r\n  }\r\n  \r\n  if (registeredUsers.some(u => u.email === userData.email)) {\r\n    return {\r\n      success: false, \r\n      message: `Email ${userData.email} is already registered`\r\n    };\r\n  }\r\n  \r\n  // Create new user\r\n  const newUser = {\r\n    ...userData,\r\n    id: Date.now(),\r\n    role: 'user',\r\n    is_active: true,\r\n    created_at: new Date().toISOString(),\r\n    updated_at: new Date().toISOString()\r\n  };\r\n  \r\n  // Save to localStorage\r\n  registeredUsers.push(newUser);\r\n  localStorage.setItem('smart_farm_registered_users', JSON.stringify(registeredUsers));\r\n  \r\n  return {\r\n    success: true,\r\n    message: 'User registered successfully (using mock data)',\r\n    data: newUser\r\n  };\r\n};\r\n\r\n// Mock login response\r\nconst mockLoginResponse = (credentials) => {\r\n  const registeredUsers = JSON.parse(localStorage.getItem('smart_farm_registered_users') || '[]');\r\n  const user = registeredUsers.find(u => u.email === credentials.email);\r\n  \r\n  if (user && user.password === credentials.password) {\r\n    const { password, ...userWithoutPassword } = user;\r\n    return {\r\n      success: true,\r\n      message: 'Login successful (using mock data)',\r\n      data: {\r\n        user: userWithoutPassword,\r\n        token: 'mock-token-' + Math.random().toString(36).substring(2)\r\n      }\r\n    };\r\n  }\r\n  \r\n  return {\r\n    success: false,\r\n    message: 'Invalid email or password'\r\n  };\r\n};\r\n\r\n// Mock API response - Keep for reference but not used\r\nconst mockApiResponse = (endpoint, method, data) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      // Return mock data based on different endpoints\r\n      if (endpoint.startsWith('/dashboard') && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: {\r\n              sensors: {\r\n                total: 12,\r\n                active: 10,\r\n                latest_readings: {\r\n                  temperature: {\r\n                    value: 24.5,\r\n                    unit: '°C',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  humidity: {\r\n                    value: 65,\r\n                    unit: '%',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  light: {\r\n                    value: 3500,\r\n                    unit: 'lux',\r\n                    sensor_location: 'Greenhouse 2',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  soil_moisture: {\r\n                    value: 42,\r\n                    unit: '%',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  }\r\n                }\r\n              },\r\n              actuators: {\r\n                total: 8,\r\n                active: 6,\r\n                statuses: {\r\n                  irrigation: { on: 1, off: 2, error: 0 },\r\n                  ventilation: { on: 2, off: 1, error: 0 },\r\n                  lighting: { on: 1, off: 1, error: 0 },\r\n                  heating: { on: 0, off: 1, error: 0 }\r\n                }\r\n              },\r\n              alerts: {\r\n                total: 5,\r\n                unread: 2,\r\n                recent: [\r\n                  {\r\n                    id: 1,\r\n                    type: 'temperature',\r\n                    message: 'Greenhouse 1 temperature above threshold (30°C)',\r\n                    created_at: new Date(Date.now() - 10 * 60000).toISOString(),\r\n                    is_read: false\r\n                  },\r\n                  {\r\n                    id: 2,\r\n                    type: 'actuator',\r\n                    message: 'Greenhouse 2 irrigation system started',\r\n                    created_at: new Date(Date.now() - 30 * 60000).toISOString(),\r\n                    is_read: true\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        });\r\n      } \r\n      // Mock get all actuators\r\n      else if (endpoint === '/actuators' && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                name: 'Greenhouse 1 Irrigation System',\r\n                type: 'irrigation',\r\n                location: 'Greenhouse 1',\r\n                status: 'off',\r\n                mode: 'manual',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/irrigation/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                last_control_time: '2023-11-14T14:20:00Z'\r\n              },\r\n              {\r\n                id: 2,\r\n                name: 'Greenhouse 2 Ventilation Fan',\r\n                type: 'fan',\r\n                location: 'Greenhouse 2',\r\n                status: 'low',\r\n                mode: 'auto',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/fan/2',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                parameters: {\r\n                  speed: 2,\r\n                  max_speed: 5,\r\n                  direction: 'forward'\r\n                }\r\n              },\r\n              {\r\n                id: 3,\r\n                name: 'Greenhouse 1 Lighting System',\r\n                type: 'lighting',\r\n                location: 'Greenhouse 1',\r\n                status: 'on',\r\n                mode: 'auto',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/lighting/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                parameters: {\r\n                  brightness: 80,\r\n                  color_temp: 4000\r\n                }\r\n              },\r\n              {\r\n                id: 4,\r\n                name: 'Greenhouse 3 Humidifier',\r\n                type: 'humidifier',\r\n                location: 'Greenhouse 3',\r\n                status: 'off',\r\n                mode: 'manual',\r\n                is_active: false,\r\n                mqtt_topic: 'farm/actuators/humidifier/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z'\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get all sensors\r\n      else if (endpoint === '/sensors' && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                name: 'Temperature Sensor 1',\r\n                type: 'temperature',\r\n                location: 'Greenhouse 1',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 24.5,\r\n                  unit: '°C',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 2,\r\n                name: 'Humidity Sensor 1',\r\n                type: 'humidity',\r\n                location: 'Greenhouse 1',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 65,\r\n                  unit: '%',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 3,\r\n                name: 'Light Sensor 1',\r\n                type: 'light',\r\n                location: 'Greenhouse 2',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 3500,\r\n                  unit: 'lux',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 4,\r\n                name: 'Soil Moisture Sensor 1',\r\n                type: 'soil_moisture',\r\n                location: 'Greenhouse 1',\r\n                status: 'inactive',\r\n                last_reading: {\r\n                  value: 42,\r\n                  unit: '%',\r\n                  timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get single sensor\r\n      else if (endpoint.match(/\\/sensors\\/\\d+$/) && method === 'GET') {\r\n        const id = parseInt(endpoint.split('/').pop());\r\n        let sensor = {};\r\n\r\n        switch(id) {\r\n          case 1:\r\n            sensor = {\r\n              id: 1,\r\n              name: 'Temperature Sensor 1',\r\n              type: 'temperature',\r\n              location: 'Greenhouse 1',\r\n              status: 'active',\r\n              description: 'Primary temperature sensor for monitoring greenhouse conditions.',\r\n              mqtt_topic: 'farm/sensors/temperature/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'DHT22',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 24.5,\r\n                unit: '°C',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 24.5 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 25.1 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 25.4 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 25.8 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 26.2 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 26.5 }\r\n              ]\r\n            };\r\n            break;\r\n          case 2:\r\n            sensor = {\r\n              id: 2,\r\n              name: 'Humidity Sensor 1',\r\n              type: 'humidity',\r\n              location: 'Greenhouse 1',\r\n              status: 'active',\r\n              description: 'Primary humidity sensor for monitoring greenhouse conditions.',\r\n              mqtt_topic: 'farm/sensors/humidity/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'DHT22',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 65,\r\n                unit: '%',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 65 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 64 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 63 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 62 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 60 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 59 }\r\n              ]\r\n            };\r\n            break;\r\n          case 3:\r\n            sensor = {\r\n              id: 3,\r\n              name: 'Light Sensor 1',\r\n              type: 'light',\r\n              location: 'Greenhouse 2',\r\n              status: 'active',\r\n              description: 'Light sensor for monitoring lighting conditions.',\r\n              mqtt_topic: 'farm/sensors/light/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'BH1750',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 3500,\r\n                unit: 'lux',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 3500 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 3200 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 2900 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 2500 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 2000 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 1500 }\r\n              ]\r\n            };\r\n            break;\r\n          case 4:\r\n            sensor = {\r\n              id: 4,\r\n              name: 'Soil Moisture Sensor 1',\r\n              type: 'soil_moisture',\r\n              location: 'Greenhouse 1',\r\n              status: 'inactive',\r\n              description: 'Soil moisture sensor for monitoring soil conditions.',\r\n              mqtt_topic: 'farm/sensors/soil_moisture/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'YL-69',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 42,\r\n                unit: '%',\r\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 25 * 60 * 60 * 1000).toISOString(), value: 42 },\r\n                { timestamp: new Date(Date.now() - 26 * 60 * 60 * 1000).toISOString(), value: 43 },\r\n                { timestamp: new Date(Date.now() - 27 * 60 * 60 * 1000).toISOString(), value: 44 },\r\n                { timestamp: new Date(Date.now() - 28 * 60 * 60 * 1000).toISOString(), value: 45 },\r\n                { timestamp: new Date(Date.now() - 29 * 60 * 60 * 1000).toISOString(), value: 46 },\r\n                { timestamp: new Date(Date.now() - 30 * 60 * 60 * 1000).toISOString(), value: 47 }\r\n              ]\r\n            };\r\n            break;\r\n          default:\r\n            sensor = null;\r\n        }\r\n\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: sensor\r\n          }\r\n        });\r\n      }\r\n      // Mock get actuator operation logs\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/logs$/) && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\r\n                status: 'on',\r\n                message: 'Manual activation of actuator',\r\n                user: 'admin',\r\n                source: 'web'\r\n              },\r\n              {\r\n                id: 2,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\r\n                status: 'off',\r\n                message: 'Actuator turned off by automatic rule',\r\n                user: 'system',\r\n                source: 'rule'\r\n              },\r\n              {\r\n                id: 3,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 60 * 12).toISOString(),\r\n                status: 'on',\r\n                message: 'Adjusted actuator parameters',\r\n                user: 'admin',\r\n                source: 'api'\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get actuator allowed statuses\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/statuses$/) && method === 'GET') {\r\n        const id = parseInt(endpoint.split('/')[2]);\r\n        let statuses = [];\r\n        \r\n        switch(id) {\r\n          case 1: // Irrigation\r\n            statuses = ['on', 'off'];\r\n            break;\r\n          case 2: // Fan\r\n            statuses = ['off', 'low', 'medium', 'high'];\r\n            break;\r\n          case 3: // Lighting\r\n            statuses = ['on', 'off', 'dim'];\r\n            break;\r\n          case 4: // Humidifier\r\n            statuses = ['on', 'off', 'auto'];\r\n            break;\r\n          default:\r\n            statuses = ['on', 'off'];\r\n        }\r\n        \r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: statuses\r\n          }\r\n        });\r\n      }\r\n      // Mock control actuator\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/control$/) && method === 'POST') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Operation successful',\r\n            data: {\r\n              ...data,\r\n              timestamp: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator\r\n      else if (endpoint.match(/\\/actuators\\/\\d+$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator auto rules\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/rules$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Rule update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator parameters\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/parameters$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Parameter update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock register user\r\n      else if (endpoint === '/users/register' && method === 'POST') {\r\n        // 模拟用户注册\r\n        if (!data.username || !data.email || !data.password) {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Missing required fields',\r\n            },\r\n            status: 400\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 模拟检查用户名是否已存在\r\n        if (data.username === 'admin' || data.username === 'user1') {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: `Username ${data.username} is already taken`,\r\n            },\r\n            status: 409\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 模拟检查邮箱是否已存在\r\n        if (data.email === 'admin@smartfarm.com' || data.email === 'user1@smartfarm.com') {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: `Email ${data.email} is already registered`,\r\n            },\r\n            status: 409\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 注册成功\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'User registered successfully',\r\n            data: {\r\n              id: Math.floor(Math.random() * 1000) + 10,\r\n              username: data.username,\r\n              email: data.email,\r\n              role: 'user',\r\n              is_active: true,\r\n              created_at: new Date().toISOString(),\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          },\r\n          status: 201\r\n        });\r\n      }\r\n      // Mock login user\r\n      else if (endpoint === '/users/login' && method === 'POST') {\r\n        // 模拟用户登录\r\n        if (!data.email || !data.password) {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Missing required fields',\r\n            },\r\n            status: 400\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 检查测试账户\r\n        if ((data.email === 'admin@smartfarm.com' && data.password === 'password123') || \r\n            (data.email === 'user1@smartfarm.com' && data.password === 'password123') ||\r\n            data.password === 'password123') {  // 任何email只要密码对都通过\r\n          const isAdmin = data.email === 'admin@smartfarm.com';\r\n          const isUser = data.email === 'user1@smartfarm.com';\r\n          \r\n          resolve({\r\n            data: {\r\n              success: true,\r\n              message: 'Login successful',\r\n              data: {\r\n                user: {\r\n                  id: isAdmin ? 1 : (isUser ? 2 : 999),\r\n                  username: isAdmin ? 'admin' : (isUser ? 'user1' : data.email.split('@')[0]),\r\n                  email: data.email,\r\n                  role: isAdmin ? 'admin' : 'user',\r\n                  is_active: true,\r\n                  last_login: new Date().toISOString(),\r\n                  created_at: '2023-01-01T00:00:00Z',\r\n                  updated_at: new Date().toISOString()\r\n                },\r\n                token: 'mock-jwt-token-' + Math.random().toString(36).substring(2)\r\n              }\r\n            },\r\n            status: 200\r\n          });\r\n        } else {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Invalid email or password',\r\n            },\r\n            status: 401\r\n          });\r\n        }\r\n      }\r\n      // Other endpoints can be added as needed\r\n      else {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Operation completed',\r\n            data: null\r\n          }\r\n        });\r\n      }\r\n    }, 500); // Simulate network delay\r\n  });\r\n};\r\n\r\n// Export API services with corrected endpoint paths\r\nexport const authAPI = {\r\n  login: (data) => apiCall('/users/login', 'POST', data),\r\n  register: (data) => apiCall('/users/register', 'POST', data),\r\n  getProfile: () => apiCall('/users/profile'),\r\n  updateProfile: (data) => apiCall('/users/profile', 'PUT', data),\r\n  changePassword: (data) => apiCall('/users/change-password', 'POST', data),\r\n};\r\n\r\nexport const dashboardAPI = {\r\n  getSummary: () => {\r\n    // Use data from mock database for dashboard\r\n    console.log('获取仪表盘摘要数据');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Count actuator statuses\r\n        const actuatorStatuses = {};\r\n        mockActuatorDatabase.actuators.forEach(actuator => {\r\n          if (!actuatorStatuses[actuator.type]) {\r\n            actuatorStatuses[actuator.type] = { on: 0, off: 0, error: 0 };\r\n          }\r\n          \r\n          if (actuator.status === 'on') {\r\n            actuatorStatuses[actuator.type].on += 1;\r\n          } else if (actuator.status === 'off') {\r\n            actuatorStatuses[actuator.type].off += 1;\r\n          } else if (actuator.status === 'error') {\r\n            actuatorStatuses[actuator.type].error += 1;\r\n          }\r\n        });\r\n        \r\n        // Calculate active actuators\r\n        const activeActuators = mockActuatorDatabase.actuators.filter(a => a.is_active).length;\r\n        \r\n        // Get latest sensor readings for each type\r\n        const latestReadings = {};\r\n        mockSensorDatabase.sensors.forEach(sensor => {\r\n          if (sensor.is_active && sensor.last_reading) {\r\n            if (!latestReadings[sensor.type] || \r\n                new Date(sensor.last_reading.timestamp) > new Date(latestReadings[sensor.type].timestamp)) {\r\n              latestReadings[sensor.type] = {\r\n                value: sensor.last_reading.value,\r\n                unit: sensor.last_reading.unit,\r\n                sensor_location: sensor.location,\r\n                timestamp: sensor.last_reading.timestamp\r\n              };\r\n            }\r\n          }\r\n        });\r\n        \r\n        // Count active sensors\r\n        const activeSensors = mockSensorDatabase.sensors.filter(s => s.is_active).length;\r\n        \r\n        // Add some logging to see what's being returned\r\n        console.log('仪表盘传感器数据:', {\r\n          total: mockSensorDatabase.sensors.length,\r\n          active: activeSensors,\r\n          latest_readings: latestReadings\r\n        });\r\n        \r\n        console.log('仪表盘执行器数据:', {\r\n          total: mockActuatorDatabase.actuators.length,\r\n          active: activeActuators,\r\n          statuses: actuatorStatuses\r\n        });\r\n        \r\n        // Make sure to return the correct data structure expected by Dashboard component\r\n        resolve({\r\n          success: true,\r\n          data: {\r\n            sensors: {\r\n              total: mockSensorDatabase.sensors.length,\r\n              active: activeSensors,\r\n              latest_readings: latestReadings\r\n            },\r\n            actuators: {\r\n              total: mockActuatorDatabase.actuators.length,\r\n              active: activeActuators,\r\n              statuses: actuatorStatuses\r\n            },\r\n            alerts: {\r\n              total: 5,\r\n              unread: 2,\r\n              recent: [\r\n                {\r\n                  id: 1,\r\n                  type: 'temperature',\r\n                  message: 'Greenhouse 1 temperature above threshold (30°C)',\r\n                  created_at: new Date(Date.now() - 10 * 60000).toISOString(),\r\n                  is_read: false\r\n                },\r\n                {\r\n                  id: 2,\r\n                  type: 'actuator',\r\n                  message: 'Greenhouse 2 irrigation system started',\r\n                  created_at: new Date(Date.now() - 30 * 60000).toISOString(),\r\n                  is_read: true\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n};\r\n\r\nexport const sensorAPI = {\r\n  getAllSensors: () => {\r\n    // Use mock data from sensor database\r\n    console.log('获取所有传感器列表');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          success: true,\r\n          data: mockSensorDatabase.sensors\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  getSensor: (id) => {\r\n    // Get specific sensor from mock database\r\n    console.log(`获取传感器详情, ID: ${id}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const sensor = mockSensorDatabase.sensors.find(s => s.id === parseInt(id));\r\n        if (sensor) {\r\n          resolve({\r\n            success: true,\r\n            data: sensor\r\n          });\r\n        } else {\r\n          resolve({\r\n            success: false,\r\n            message: `Sensor with ID ${id} not found`\r\n          });\r\n        }\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  getSensorData: (id, timeRange) => apiCall(`/sensors/${id}/data?timeRange=${timeRange}`),\r\n  updateSensor: (id, data) => apiCall(`/sensors/${id}`, 'PUT', data),\r\n  calibrateSensor: (id, data) => apiCall(`/sensors/${id}/calibrate`, 'POST', data),\r\n};\r\n\r\nexport const actuatorAPI = {\r\n  getAllActuators: () => {\r\n    // Use data from localStorage if available, otherwise use mock data\r\n    console.log('Getting all actuators');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Try to get from localStorage first\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        \r\n        if (savedActuators) {\r\n          // If localStorage has data, use it\r\n          resolve({\r\n            success: true,\r\n            data: JSON.parse(savedActuators)\r\n          });\r\n        } else {\r\n          // Otherwise use mock data and save it to localStorage\r\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(mockActuatorDatabase.actuators));\r\n          resolve({\r\n            success: true,\r\n            data: mockActuatorDatabase.actuators\r\n          });\r\n        }\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  getActuator: (id) => {\r\n    // Use data from localStorage if available, otherwise use mock data\r\n    console.log(`Getting actuator details, ID: ${id}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Try to get from localStorage first\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        let actuator = null;\r\n        \r\n        if (savedActuators) {\r\n          const actuators = JSON.parse(savedActuators);\r\n          actuator = actuators.find(a => a.id === parseInt(id));\r\n        }\r\n        \r\n        // If not found in localStorage, try mock database\r\n        if (!actuator) {\r\n          actuator = mockActuatorDatabase.actuators.find(a => a.id === parseInt(id));\r\n        }\r\n        \r\n        // If still not found, return default\r\n        if (!actuator) {\r\n          actuator = {\r\n            id: parseInt(id),\r\n            name: `Unknown Actuator ${id}`,\r\n            type: 'unknown',\r\n            location: 'Unknown',\r\n            status: 'error',\r\n            mode: 'manual',\r\n            is_active: false,\r\n            mqtt_topic: `farm/actuators/unknown/${id}`,\r\n            created_at: '2023-10-01T08:00:00Z',\r\n            updated_at: '2023-11-15T10:30:00Z'\r\n          };\r\n        }\r\n        \r\n        resolve({\r\n          success: true,\r\n          data: actuator\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  getActuatorLogs: (id) => {\r\n    // Get logs for specific actuator from mock database\r\n    console.log(`Getting actuator logs, ID: ${id}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const logs = mockActuatorDatabase.logs\r\n          .filter(log => log.actuator_id === parseInt(id))\r\n          .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\r\n          \r\n        if (logs.length === 0) {\r\n          // If no logs exist yet, return some default ones\r\n          logs.push(\r\n            {\r\n              id: 1,\r\n              actuator_id: parseInt(id),\r\n              timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\r\n              status: 'on',\r\n              message: 'Manual activation of actuator',\r\n              user: 'admin',\r\n              source: 'web',\r\n              previous_state: 'off',\r\n              parameters: {}\r\n            },\r\n            {\r\n              id: 2,\r\n              actuator_id: parseInt(id),\r\n              timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\r\n              status: 'off',\r\n              message: 'Actuator turned off by automatic rule',\r\n              user: 'system',\r\n              source: 'rule',\r\n              previous_state: 'on',\r\n              parameters: {}\r\n            }\r\n          );\r\n        }\r\n        \r\n        resolve({\r\n          success: true,\r\n          data: logs\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  getActuatorStatuses: (id) => {\r\n    // Return available statuses based on actuator type\r\n    console.log(`Getting actuator status options, ID: ${id}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const actuator = mockActuatorDatabase.actuators.find(a => a.id === parseInt(id));\r\n        let statuses = ['on', 'off']; // Default statuses\r\n        \r\n        if (actuator) {\r\n          switch(actuator.type) {\r\n            case 'fan':\r\n              statuses = ['off', 'low', 'medium', 'high'];\r\n              break;\r\n            case 'lighting':\r\n              statuses = ['on', 'off', 'dim'];\r\n              break;\r\n            case 'humidifier':\r\n              statuses = ['on', 'off', 'auto'];\r\n              break;\r\n            case 'curtain':\r\n              statuses = ['open', 'closed', 'half'];\r\n              break;\r\n          }\r\n        }\r\n        \r\n        resolve({\r\n          success: true,\r\n          data: statuses\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  controlActuator: (id, data) => {\r\n    // Update actuator status in localStorage\r\n    console.log(`Controlling actuator, ID: ${id}, Action: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get the action from the data\r\n        const action = data.action;\r\n        \r\n        // Get actuators from localStorage\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        let actuators = [];\r\n        \r\n        if (savedActuators) {\r\n          actuators = JSON.parse(savedActuators);\r\n        } else {\r\n          actuators = mockActuatorDatabase.actuators;\r\n        }\r\n        \r\n        // Find the actuator to update\r\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\r\n        if (actuatorIndex === -1) {\r\n          resolve({\r\n            success: false,\r\n            message: `Actuator with ID ${id} not found`\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // Record previous status to detect changes\r\n        const previousStatus = actuators[actuatorIndex].status;\r\n        \r\n        // Update the actuator\r\n        actuators[actuatorIndex].status = action;\r\n        actuators[actuatorIndex].last_control_time = new Date().toISOString();\r\n        \r\n        // Save back to localStorage\r\n        localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\r\n        \r\n        // Also update the mock database for other operations\r\n        const updatedActuator = updateActuatorInDatabase(id, {\r\n          status: action,\r\n          last_control_time: new Date().toISOString()\r\n        });\r\n        \r\n        // Add a log entry\r\n        const log = addLogToDatabase(\r\n          id, \r\n          action, \r\n          `Actuator ${action === 'on' ? 'turned on' : 'turned off'} manually`,\r\n          'web',\r\n          'admin',\r\n          previousStatus,\r\n          {}\r\n        );\r\n        \r\n        console.log(`Actuator ${id} status changed from ${previousStatus} to ${action}`);\r\n        \r\n        resolve({\r\n          success: true,\r\n          message: 'Operation successful',\r\n          data: {\r\n            actuator: actuators[actuatorIndex],\r\n            log: log\r\n          }\r\n        });\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  updateActuator: (id, data) => {\r\n    // Update actuator properties in localStorage\r\n    console.log(`Updating actuator, ID: ${id}, Data: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get actuators from localStorage\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        let actuators = [];\r\n        \r\n        if (savedActuators) {\r\n          actuators = JSON.parse(savedActuators);\r\n        } else {\r\n          actuators = mockActuatorDatabase.actuators;\r\n        }\r\n        \r\n        // Find the actuator to update\r\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\r\n        \r\n        if (actuatorIndex !== -1) {\r\n          // Update the actuator\r\n          actuators[actuatorIndex] = {\r\n            ...actuators[actuatorIndex],\r\n            ...data,\r\n            updated_at: new Date().toISOString()\r\n          };\r\n          \r\n          // Save back to localStorage\r\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\r\n          \r\n          // Also update the mock database for other operations\r\n          const updatedActuator = updateActuatorInDatabase(id, data);\r\n          \r\n          addLogToDatabase(\r\n            id, \r\n            actuators[actuatorIndex].status, \r\n            'Actuator settings updated',\r\n            'web',\r\n            'admin',\r\n            actuators[actuatorIndex].status,\r\n            {}\r\n          );\r\n          \r\n          resolve({\r\n            success: true,\r\n            message: 'Update successful',\r\n            data: actuators[actuatorIndex]\r\n          });\r\n        } else {\r\n          resolve({\r\n            success: false,\r\n            message: `Actuator with ID ${id} not found`,\r\n          });\r\n        }\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  updateAutoRules: (id, data) => {\r\n    // Update actuator rules in localStorage and mock database\r\n    console.log(`Updating actuator rules, ID: ${id}, Rules: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get actuators from localStorage\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        let actuators = [];\r\n        \r\n        if (savedActuators) {\r\n          actuators = JSON.parse(savedActuators);\r\n        } else {\r\n          actuators = mockActuatorDatabase.actuators;\r\n        }\r\n        \r\n        // Find the actuator to update\r\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\r\n        \r\n        if (actuatorIndex !== -1) {\r\n          // Update auto rules\r\n          actuators[actuatorIndex].auto_rules = data;\r\n          actuators[actuatorIndex].updated_at = new Date().toISOString();\r\n          \r\n          // Save back to localStorage\r\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\r\n          \r\n          // Also update the mock database for other operations\r\n          const updatedActuator = updateActuatorInDatabase(id, {\r\n            auto_rules: data,\r\n            updated_at: new Date().toISOString()\r\n          });\r\n          \r\n          addLogToDatabase(\r\n            id, \r\n            actuators[actuatorIndex].status, \r\n            'Actuator automation rules updated',\r\n            'web',\r\n            'admin',\r\n            actuators[actuatorIndex].status,\r\n            {}\r\n          );\r\n          \r\n          resolve({\r\n            success: true,\r\n            message: 'Rules updated successfully',\r\n            data: actuators[actuatorIndex]\r\n          });\r\n        } else {\r\n          resolve({\r\n            success: false,\r\n            message: `Actuator with ID ${id} not found`,\r\n          });\r\n        }\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n  updateParameters: (id, data) => {\r\n    // Update actuator parameters in localStorage and mock database\r\n    console.log(`Updating actuator parameters, ID: ${id}, Parameters: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get actuators from localStorage\r\n        const savedActuators = localStorage.getItem('smart_farm_actuators');\r\n        let actuators = [];\r\n        \r\n        if (savedActuators) {\r\n          actuators = JSON.parse(savedActuators);\r\n        } else {\r\n          actuators = mockActuatorDatabase.actuators;\r\n        }\r\n        \r\n        // Find the actuator to update\r\n        const actuatorIndex = actuators.findIndex(a => a.id === parseInt(id));\r\n        \r\n        if (actuatorIndex !== -1) {\r\n          // Add parameters property if it doesn't exist\r\n          if (!actuators[actuatorIndex].parameters) {\r\n            actuators[actuatorIndex].parameters = {};\r\n          }\r\n          \r\n          // Update parameters\r\n          actuators[actuatorIndex].parameters = {\r\n            ...actuators[actuatorIndex].parameters,\r\n            ...data\r\n          };\r\n          actuators[actuatorIndex].updated_at = new Date().toISOString();\r\n          \r\n          // Save back to localStorage\r\n          localStorage.setItem('smart_farm_actuators', JSON.stringify(actuators));\r\n          \r\n          // Also update the mock database for other operations\r\n          const updatedActuator = updateActuatorInDatabase(id, {\r\n            parameters: {\r\n              ...actuators[actuatorIndex].parameters\r\n            },\r\n            updated_at: new Date().toISOString()\r\n          });\r\n          \r\n          addLogToDatabase(\r\n            id, \r\n            actuators[actuatorIndex].status, \r\n            'Actuator parameters updated',\r\n            'web',\r\n            'admin',\r\n            actuators[actuatorIndex].status,\r\n            data\r\n          );\r\n          \r\n          resolve({\r\n            success: true,\r\n            message: 'Parameters updated successfully',\r\n            data: actuators[actuatorIndex]\r\n          });\r\n        } else {\r\n          resolve({\r\n            success: false,\r\n            message: `Actuator with ID ${id} not found`,\r\n          });\r\n        }\r\n      }, 500); // Simulate network delay\r\n    });\r\n  },\r\n};\r\n\r\nexport const alertAPI = {\r\n  getAlerts: (page = 1, limit = 10) => apiCall(`/alerts?page=${page}&limit=${limit}`),\r\n  markAsRead: (id) => apiCall(`/alerts/${id}/read`, 'POST'),\r\n  markAllAsRead: () => apiCall('/alerts/read-all', 'POST'),\r\n  deleteAlert: (id) => apiCall(`/alerts/${id}`, 'DELETE'),\r\n  getAlertSettings: () => apiCall('/alerts/settings'),\r\n  updateAlertSettings: (data) => apiCall('/alerts/settings', 'PUT', data),\r\n  \r\n  // Mock implementation with localStorage persistence\r\n  getAllAlerts: () => {\r\n    console.log('Getting all alerts');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Use mock data for demonstration\r\n        const mockAlerts = generateMockAlerts(50);\r\n        resolve({\r\n          success: true,\r\n          data: mockAlerts\r\n        });\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  getAlertThresholds: () => {\r\n    console.log('Getting alert thresholds');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Try to get from localStorage first\r\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\r\n        \r\n        if (savedThresholds) {\r\n          // If localStorage has data, use it\r\n          resolve({\r\n            success: true,\r\n            data: JSON.parse(savedThresholds)\r\n          });\r\n        } else {\r\n          // Otherwise use default thresholds\r\n          const defaultThresholds = [\r\n            {\r\n              id: 1,\r\n              sensor_type: 'temperature',\r\n              condition: 'gt',\r\n              threshold: 30,\r\n              severity: 'high',\r\n              notification_method: ['app', 'email'],\r\n              is_active: true\r\n            },\r\n            {\r\n              id: 2,\r\n              sensor_type: 'temperature',\r\n              condition: 'lt',\r\n              threshold: 10,\r\n              severity: 'medium',\r\n              notification_method: ['app'],\r\n              is_active: true\r\n            },\r\n            {\r\n              id: 3,\r\n              sensor_type: 'humidity',\r\n              condition: 'gt',\r\n              threshold: 85,\r\n              severity: 'medium',\r\n              notification_method: ['app'],\r\n              is_active: true\r\n            },\r\n            {\r\n              id: 4,\r\n              sensor_type: 'humidity',\r\n              condition: 'lt',\r\n              threshold: 30,\r\n              severity: 'medium',\r\n              notification_method: ['app', 'email'],\r\n              is_active: true\r\n            },\r\n            {\r\n              id: 5,\r\n              sensor_type: 'soil_moisture',\r\n              condition: 'lt',\r\n              threshold: 20,\r\n              severity: 'high',\r\n              notification_method: ['app', 'email', 'sms'],\r\n              is_active: true\r\n            }\r\n          ];\r\n          \r\n          // Save to localStorage for future use\r\n          localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(defaultThresholds));\r\n          \r\n          resolve({\r\n            success: true,\r\n            data: defaultThresholds\r\n          });\r\n        }\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  updateAlertThreshold: (id, data) => {\r\n    console.log(`Updating alert threshold, ID: ${id}, Data: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get thresholds from localStorage\r\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\r\n        let thresholds = [];\r\n        \r\n        if (savedThresholds) {\r\n          thresholds = JSON.parse(savedThresholds);\r\n        }\r\n        \r\n        // Find the threshold to update\r\n        const thresholdIndex = thresholds.findIndex(t => t.id === parseInt(id));\r\n        \r\n        if (thresholdIndex !== -1) {\r\n          // Update the threshold\r\n          thresholds[thresholdIndex] = {\r\n            ...thresholds[thresholdIndex],\r\n            ...data\r\n          };\r\n          \r\n          // Save back to localStorage\r\n          localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(thresholds));\r\n          \r\n          resolve({\r\n            success: true,\r\n            message: 'Threshold updated successfully',\r\n            data: thresholds[thresholdIndex]\r\n          });\r\n        } else {\r\n          resolve({\r\n            success: false,\r\n            message: `Threshold with ID ${id} not found`\r\n          });\r\n        }\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  createAlertThreshold: (data) => {\r\n    console.log(`Creating new alert threshold: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get thresholds from localStorage\r\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\r\n        let thresholds = [];\r\n        \r\n        if (savedThresholds) {\r\n          thresholds = JSON.parse(savedThresholds);\r\n        }\r\n        \r\n        // Create new threshold with ID\r\n        const newThreshold = {\r\n          ...data,\r\n          id: thresholds.length > 0 ? Math.max(...thresholds.map(t => t.id)) + 1 : 1\r\n        };\r\n        \r\n        // Add to thresholds array\r\n        thresholds.push(newThreshold);\r\n        \r\n        // Save back to localStorage\r\n        localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(thresholds));\r\n        \r\n        resolve({\r\n          success: true,\r\n          message: 'New threshold created successfully',\r\n          data: newThreshold\r\n        });\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  deleteAlertThreshold: (id) => {\r\n    console.log(`Deleting alert threshold, ID: ${id}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Get thresholds from localStorage\r\n        const savedThresholds = localStorage.getItem('smart_farm_alert_thresholds');\r\n        \r\n        if (!savedThresholds) {\r\n          resolve({\r\n            success: false,\r\n            message: 'No thresholds found'\r\n          });\r\n          return;\r\n        }\r\n        \r\n        let thresholds = JSON.parse(savedThresholds);\r\n        \r\n        // Filter out the threshold to delete\r\n        const newThresholds = thresholds.filter(t => t.id !== parseInt(id));\r\n        \r\n        if (newThresholds.length === thresholds.length) {\r\n          resolve({\r\n            success: false,\r\n            message: `Threshold with ID ${id} not found`\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // Save back to localStorage\r\n        localStorage.setItem('smart_farm_alert_thresholds', JSON.stringify(newThresholds));\r\n        \r\n        resolve({\r\n          success: true,\r\n          message: 'Threshold deleted successfully'\r\n        });\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  getUserPreferences: () => {\r\n    console.log('Getting user alert preferences');\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Try to get from localStorage first\r\n        const savedPrefs = localStorage.getItem('smart_farm_alert_preferences');\r\n        \r\n        if (savedPrefs) {\r\n          // If localStorage has data, use it\r\n          resolve({\r\n            success: true,\r\n            data: JSON.parse(savedPrefs)\r\n          });\r\n        } else {\r\n          // Otherwise use default preferences\r\n          const defaultPreferences = {\r\n            receive_email_notifications: true,\r\n            receive_sms_notifications: false,\r\n            email_address: 'user@example.com',\r\n            phone_number: '',\r\n            mute_notifications: false,\r\n            auto_acknowledge_low_severity: false\r\n          };\r\n          \r\n          // Save to localStorage for future use\r\n          localStorage.setItem('smart_farm_alert_preferences', JSON.stringify(defaultPreferences));\r\n          \r\n          resolve({\r\n            success: true,\r\n            data: defaultPreferences\r\n          });\r\n        }\r\n      }, 500);\r\n    });\r\n  },\r\n  \r\n  updateUserPreferences: (data) => {\r\n    console.log(`Updating user alert preferences: ${JSON.stringify(data)}`);\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        // Save to localStorage\r\n        localStorage.setItem('smart_farm_alert_preferences', JSON.stringify(data));\r\n        \r\n        resolve({\r\n          success: true,\r\n          message: 'User preferences updated successfully',\r\n          data: data\r\n        });\r\n      }, 500);\r\n    });\r\n  }\r\n};\r\n\r\nexport const analyticsAPI = {\r\n  getSensorStats: (timeRange) => apiCall(`/analytics/sensors?timeRange=${timeRange}`),\r\n  getActuatorStats: (timeRange) => apiCall(`/analytics/actuators?timeRange=${timeRange}`),\r\n  getCorrelationData: (sensors, timeRange) => apiCall(`/analytics/correlation?sensors=${sensors.join(',')}&timeRange=${timeRange}`),\r\n  getEnergyUsage: (timeRange) => apiCall(`/analytics/energy?timeRange=${timeRange}`),\r\n  getYieldData: (timeRange) => apiCall(`/analytics/yield?timeRange=${timeRange}`),\r\n};\r\n\r\nexport const settingsAPI = {\r\n  getSystemSettings: () => apiCall('/settings/system'),\r\n  updateSystemSettings: (data) => apiCall('/settings/system', 'PUT', data),\r\n  getNotificationSettings: () => apiCall('/settings/notifications'),\r\n  updateNotificationSettings: (data) => apiCall('/settings/notifications', 'PUT', data),\r\n  getBackupSettings: () => apiCall('/settings/backup'),\r\n  updateBackupSettings: (data) => apiCall('/settings/backup', 'PUT', data),\r\n  backupNow: () => apiCall('/settings/backup/now', 'POST'),\r\n  restoreBackup: (id) => apiCall(`/settings/backup/restore/${id}`, 'POST'),\r\n  getDeviceSettings: () => apiCall('/settings/devices'),\r\n  updateDeviceSettings: (data) => apiCall('/settings/devices', 'PUT', data),\r\n};\r\n\r\n// Generate mock alerts for testing purposes\r\nconst generateMockAlerts = (count = 20) => {\r\n  const alertTypes = [\r\n    { type: 'temperature_high', message: 'Temperature too high', severity: 'high', icon: null, color: 'error' },\r\n    { type: 'temperature_low', message: 'Temperature too low', severity: 'medium', icon: null, color: 'warning' },\r\n    { type: 'humidity_high', message: 'Humidity too high', severity: 'medium', icon: null, color: 'warning' },\r\n    { type: 'humidity_low', message: 'Humidity too low', severity: 'medium', icon: null, color: 'warning' },\r\n    { type: 'soil_moisture_low', message: 'Soil moisture too low', severity: 'high', icon: null, color: 'error' },\r\n    { type: 'light_low', message: 'Insufficient light', severity: 'low', icon: null, color: 'info' },\r\n    { type: 'actuator_failure', message: 'Actuator failure', severity: 'high', icon: null, color: 'error' },\r\n    { type: 'system_warning', message: 'System warning', severity: 'low', icon: null, color: 'info' },\r\n    { type: 'connection_lost', message: 'Connection lost', severity: 'medium', icon: null, color: 'warning' },\r\n    { type: 'power_warning', message: 'Power warning', severity: 'medium', icon: null, color: 'warning' }\r\n  ];\r\n\r\n  const locations = ['Greenhouse 1', 'Greenhouse 2', 'Greenhouse 3', 'Equipment Room', 'Control Center'];\r\n  const devices = [\r\n    'Temperature Sensor 01', 'Temperature Sensor 02', 'Humidity Sensor 01', 'Humidity Sensor 02',\r\n    'Soil Moisture Sensor 01', 'Light Sensor 01', 'Irrigation System 01', 'Ventilation System 01', 'Lighting System 01'\r\n  ];\r\n\r\n  const alerts = [];\r\n  const now = new Date();\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const alertType = alertTypes[Math.floor(Math.random() * alertTypes.length)];\r\n    const location = locations[Math.floor(Math.random() * locations.length)];\r\n    const device = devices[Math.floor(Math.random() * devices.length)];\r\n    const timestamp = new Date(now.getTime() - Math.random() * 7 * 24 * 60 * 60 * 1000);\r\n    const is_read = Math.random() > 0.3; // 30% unread\r\n    const is_acknowledged = is_read && Math.random() > 0.5; // 50% of read alerts are acknowledged\r\n    \r\n    const values = {};\r\n    if (alertType.type.includes('temperature')) {\r\n      values.temperature = alertType.type.includes('high') ? \r\n        (30 + Math.random() * 10).toFixed(1) : \r\n        (5 + Math.random() * 10).toFixed(1);\r\n      values.unit = '°C';\r\n      values.threshold = alertType.type.includes('high') ? '30.0°C' : '10.0°C';\r\n    } else if (alertType.type.includes('humidity')) {\r\n      values.humidity = alertType.type.includes('high') ? \r\n        (85 + Math.random() * 15).toFixed(1) : \r\n        (20 + Math.random() * 10).toFixed(1);\r\n      values.unit = '%';\r\n      values.threshold = alertType.type.includes('high') ? '85.0%' : '30.0%';\r\n    }\r\n\r\n    alerts.push({\r\n      id: i + 1,\r\n      type: alertType.type,\r\n      message: alertType.message,\r\n      severity: alertType.severity,\r\n      icon: alertType.icon,\r\n      color: alertType.color,\r\n      location,\r\n      device,\r\n      values,\r\n      timestamp,\r\n      is_read,\r\n      is_acknowledged,\r\n      details: `${alertType.message} detected from ${device} in ${location}. Please address promptly.`\r\n    });\r\n  }\r\n\r\n  return alerts.sort((a, b) => b.timestamp - a.timestamp);\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}