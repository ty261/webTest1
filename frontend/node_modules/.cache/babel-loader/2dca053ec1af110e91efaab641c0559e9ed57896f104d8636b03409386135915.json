{"ast":null,"code":"import { API_URL, TOKEN_KEY } from '../config';\n\n// Create common API call method\nconst apiCall = async (endpoint, method = 'GET', data = null) => {\n  const url = `${API_URL}${endpoint}`;\n  const options = {\n    method,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  // Add authorization token\n  const token = localStorage.getItem(TOKEN_KEY);\n  if (token) {\n    options.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  // Add request body data\n  if (data) {\n    options.body = JSON.stringify(data);\n  }\n  try {\n    // Should use real API in actual project\n    // const response = await fetch(url, options);\n\n    // Mock API response\n    const mockResponse = await mockApiResponse(endpoint, method, data);\n\n    // 检查状态码是否表示错误\n    if (mockResponse.status && mockResponse.status >= 400) {\n      throw new Error(mockResponse.data.message || 'API request failed');\n    }\n    return mockResponse.data;\n  } catch (error) {\n    console.error('API call error:', error);\n    throw error;\n  }\n};\n\n// Mock API response\nconst mockApiResponse = (endpoint, method, data) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      // Return mock data based on different endpoints\n      if (endpoint.startsWith('/dashboard') && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: {\n              sensors: {\n                total: 12,\n                active: 10,\n                latest_readings: {\n                  temperature: {\n                    value: 24.5,\n                    unit: '°C',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  },\n                  humidity: {\n                    value: 65,\n                    unit: '%',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  },\n                  light: {\n                    value: 3500,\n                    unit: 'lux',\n                    sensor_location: 'Greenhouse 2',\n                    timestamp: new Date().toISOString()\n                  },\n                  soil_moisture: {\n                    value: 42,\n                    unit: '%',\n                    sensor_location: 'Greenhouse 1',\n                    timestamp: new Date().toISOString()\n                  }\n                }\n              },\n              actuators: {\n                total: 8,\n                active: 6,\n                statuses: {\n                  irrigation: {\n                    on: 1,\n                    off: 2,\n                    error: 0\n                  },\n                  ventilation: {\n                    on: 2,\n                    off: 1,\n                    error: 0\n                  },\n                  lighting: {\n                    on: 1,\n                    off: 1,\n                    error: 0\n                  },\n                  heating: {\n                    on: 0,\n                    off: 1,\n                    error: 0\n                  }\n                }\n              },\n              alerts: {\n                total: 5,\n                unread: 2,\n                recent: [{\n                  id: 1,\n                  type: 'temperature',\n                  message: 'Greenhouse 1 temperature above threshold (30°C)',\n                  created_at: new Date(Date.now() - 10 * 60000).toISOString(),\n                  is_read: false\n                }, {\n                  id: 2,\n                  type: 'actuator',\n                  message: 'Greenhouse 2 irrigation system started',\n                  created_at: new Date(Date.now() - 30 * 60000).toISOString(),\n                  is_read: true\n                }]\n              }\n            }\n          }\n        });\n      }\n      // Mock get all actuators\n      else if (endpoint === '/actuators' && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              name: 'Greenhouse 1 Irrigation System',\n              type: 'irrigation',\n              location: 'Greenhouse 1',\n              status: 'off',\n              mode: 'manual',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/irrigation/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              last_control_time: '2023-11-14T14:20:00Z'\n            }, {\n              id: 2,\n              name: 'Greenhouse 2 Ventilation Fan',\n              type: 'fan',\n              location: 'Greenhouse 2',\n              status: 'low',\n              mode: 'auto',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/fan/2',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              parameters: {\n                speed: 2,\n                max_speed: 5,\n                direction: 'forward'\n              }\n            }, {\n              id: 3,\n              name: 'Greenhouse 1 Lighting System',\n              type: 'lighting',\n              location: 'Greenhouse 1',\n              status: 'on',\n              mode: 'auto',\n              is_active: true,\n              mqtt_topic: 'farm/actuators/lighting/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              parameters: {\n                brightness: 80,\n                color_temp: 4000\n              }\n            }, {\n              id: 4,\n              name: 'Greenhouse 3 Humidifier',\n              type: 'humidifier',\n              location: 'Greenhouse 3',\n              status: 'off',\n              mode: 'manual',\n              is_active: false,\n              mqtt_topic: 'farm/actuators/humidifier/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z'\n            }]\n          }\n        });\n      }\n      // Mock get all sensors\n      else if (endpoint === '/sensors' && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              name: 'Temperature Sensor 1',\n              type: 'temperature',\n              location: 'Greenhouse 1',\n              status: 'active',\n              last_reading: {\n                value: 24.5,\n                unit: '°C',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 2,\n              name: 'Humidity Sensor 1',\n              type: 'humidity',\n              location: 'Greenhouse 1',\n              status: 'active',\n              last_reading: {\n                value: 65,\n                unit: '%',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 3,\n              name: 'Light Sensor 1',\n              type: 'light',\n              location: 'Greenhouse 2',\n              status: 'active',\n              last_reading: {\n                value: 3500,\n                unit: 'lux',\n                timestamp: new Date().toISOString()\n              }\n            }, {\n              id: 4,\n              name: 'Soil Moisture Sensor 1',\n              type: 'soil_moisture',\n              location: 'Greenhouse 1',\n              status: 'inactive',\n              last_reading: {\n                value: 42,\n                unit: '%',\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\n              }\n            }]\n          }\n        });\n      }\n      // Mock get single sensor\n      else if (endpoint.match(/\\/sensors\\/\\d+$/) && method === 'GET') {\n        const id = parseInt(endpoint.split('/').pop());\n        let sensor = {};\n        switch (id) {\n          case 1:\n            sensor = {\n              id: 1,\n              name: 'Temperature Sensor 1',\n              type: 'temperature',\n              location: 'Greenhouse 1',\n              status: 'active',\n              description: 'Primary temperature sensor for monitoring greenhouse conditions.',\n              mqtt_topic: 'farm/sensors/temperature/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'DHT22',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 24.5,\n                unit: '°C',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 24.5\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 25.1\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 25.4\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 25.8\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 26.2\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 26.5\n              }]\n            };\n            break;\n          case 2:\n            sensor = {\n              id: 2,\n              name: 'Humidity Sensor 1',\n              type: 'humidity',\n              location: 'Greenhouse 1',\n              status: 'active',\n              description: 'Primary humidity sensor for monitoring greenhouse conditions.',\n              mqtt_topic: 'farm/sensors/humidity/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'DHT22',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 65,\n                unit: '%',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 65\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 64\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 63\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 62\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 60\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 59\n              }]\n            };\n            break;\n          case 3:\n            sensor = {\n              id: 3,\n              name: 'Light Sensor 1',\n              type: 'light',\n              location: 'Greenhouse 2',\n              status: 'active',\n              description: 'Light sensor for monitoring lighting conditions.',\n              mqtt_topic: 'farm/sensors/light/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'BH1750',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 3500,\n                unit: 'lux',\n                timestamp: new Date().toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\n                value: 3500\n              }, {\n                timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n                value: 3200\n              }, {\n                timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\n                value: 2900\n              }, {\n                timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\n                value: 2500\n              }, {\n                timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),\n                value: 2000\n              }, {\n                timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n                value: 1500\n              }]\n            };\n            break;\n          case 4:\n            sensor = {\n              id: 4,\n              name: 'Soil Moisture Sensor 1',\n              type: 'soil_moisture',\n              location: 'Greenhouse 1',\n              status: 'inactive',\n              description: 'Soil moisture sensor for monitoring soil conditions.',\n              mqtt_topic: 'farm/sensors/soil_moisture/1',\n              created_at: '2023-10-01T08:00:00Z',\n              updated_at: '2023-11-15T10:30:00Z',\n              model: 'YL-69',\n              manufacturer: 'Acme Sensors',\n              calibration_date: '2023-09-15T00:00:00Z',\n              last_reading: {\n                value: 42,\n                unit: '%',\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\n              },\n              history: [{\n                timestamp: new Date(Date.now() - 25 * 60 * 60 * 1000).toISOString(),\n                value: 42\n              }, {\n                timestamp: new Date(Date.now() - 26 * 60 * 60 * 1000).toISOString(),\n                value: 43\n              }, {\n                timestamp: new Date(Date.now() - 27 * 60 * 60 * 1000).toISOString(),\n                value: 44\n              }, {\n                timestamp: new Date(Date.now() - 28 * 60 * 60 * 1000).toISOString(),\n                value: 45\n              }, {\n                timestamp: new Date(Date.now() - 29 * 60 * 60 * 1000).toISOString(),\n                value: 46\n              }, {\n                timestamp: new Date(Date.now() - 30 * 60 * 60 * 1000).toISOString(),\n                value: 47\n              }]\n            };\n            break;\n          default:\n            sensor = null;\n        }\n        resolve({\n          data: {\n            success: true,\n            data: sensor\n          }\n        });\n      }\n      // Mock get actuator operation logs\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/logs$/) && method === 'GET') {\n        resolve({\n          data: {\n            success: true,\n            data: [{\n              id: 1,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\n              status: 'on',\n              message: 'Manual activation of actuator',\n              user: 'admin',\n              source: 'web'\n            }, {\n              id: 2,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\n              status: 'off',\n              message: 'Actuator turned off by automatic rule',\n              user: 'system',\n              source: 'rule'\n            }, {\n              id: 3,\n              actuator_id: parseInt(endpoint.split('/')[2]),\n              timestamp: new Date(Date.now() - 1000 * 60 * 60 * 12).toISOString(),\n              status: 'on',\n              message: 'Adjusted actuator parameters',\n              user: 'admin',\n              source: 'api'\n            }]\n          }\n        });\n      }\n      // Mock get actuator allowed statuses\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/statuses$/) && method === 'GET') {\n        const id = parseInt(endpoint.split('/')[2]);\n        let statuses = [];\n        switch (id) {\n          case 1:\n            // Irrigation\n            statuses = ['on', 'off'];\n            break;\n          case 2:\n            // Fan\n            statuses = ['off', 'low', 'medium', 'high'];\n            break;\n          case 3:\n            // Lighting\n            statuses = ['on', 'off', 'dim'];\n            break;\n          case 4:\n            // Humidifier\n            statuses = ['on', 'off', 'auto'];\n            break;\n          default:\n            statuses = ['on', 'off'];\n        }\n        resolve({\n          data: {\n            success: true,\n            data: statuses\n          }\n        });\n      }\n      // Mock control actuator\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/control$/) && method === 'POST') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Operation successful',\n            data: {\n              ...data,\n              timestamp: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator\n      else if (endpoint.match(/\\/actuators\\/\\d+$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator auto rules\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/rules$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Rule update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock update actuator parameters\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/parameters$/) && method === 'PUT') {\n        resolve({\n          data: {\n            success: true,\n            message: 'Parameter update successful',\n            data: {\n              ...data,\n              updated_at: new Date().toISOString()\n            }\n          }\n        });\n      }\n      // Mock register user\n      else if (endpoint === '/auth/register' && method === 'POST') {\n        // 模拟用户注册\n        if (!data.username || !data.email || !data.password) {\n          resolve({\n            data: {\n              success: false,\n              message: 'Missing required fields'\n            },\n            status: 400\n          });\n          return;\n        }\n\n        // 模拟检查用户名是否已存在\n        if (data.username === 'admin' || data.username === 'user1') {\n          resolve({\n            data: {\n              success: false,\n              message: `Username ${data.username} is already taken`\n            },\n            status: 409\n          });\n          return;\n        }\n\n        // 模拟检查邮箱是否已存在\n        if (data.email === 'admin@smartfarm.com' || data.email === 'user1@smartfarm.com') {\n          resolve({\n            data: {\n              success: false,\n              message: `Email ${data.email} is already registered`\n            },\n            status: 409\n          });\n          return;\n        }\n\n        // 注册成功\n        resolve({\n          data: {\n            success: true,\n            message: 'User registered successfully',\n            data: {\n              id: Math.floor(Math.random() * 1000) + 10,\n              username: data.username,\n              email: data.email,\n              role: 'user',\n              is_active: true,\n              created_at: new Date().toISOString(),\n              updated_at: new Date().toISOString()\n            }\n          },\n          status: 201\n        });\n      }\n      // Mock login user\n      else if (endpoint === '/auth/login' && method === 'POST') {\n        // 模拟用户登录\n        if (!data.email || !data.password) {\n          resolve({\n            data: {\n              success: false,\n              message: 'Missing required fields'\n            },\n            status: 400\n          });\n          return;\n        }\n\n        // 检查测试账户\n        if (data.email === 'admin@smartfarm.com' && data.password === 'password123' || data.email === 'user1@smartfarm.com' && data.password === 'password123') {\n          const isAdmin = data.email === 'admin@smartfarm.com';\n          resolve({\n            data: {\n              success: true,\n              message: 'Login successful',\n              data: {\n                user: {\n                  id: isAdmin ? 1 : 2,\n                  username: isAdmin ? 'admin' : 'user1',\n                  email: data.email,\n                  role: isAdmin ? 'admin' : 'user',\n                  is_active: true,\n                  last_login: new Date().toISOString(),\n                  created_at: '2023-01-01T00:00:00Z',\n                  updated_at: new Date().toISOString()\n                },\n                token: 'mock-jwt-token-' + Math.random().toString(36).substring(2)\n              }\n            },\n            status: 200\n          });\n        } else {\n          resolve({\n            data: {\n              success: false,\n              message: 'Invalid email or password'\n            },\n            status: 401\n          });\n        }\n      }\n      // Other endpoints can be added as needed\n      else {\n        resolve({\n          data: {\n            success: true,\n            message: 'Operation completed',\n            data: null\n          }\n        });\n      }\n    }, 500); // Simulate network delay\n  });\n};\n\n// Export API services\nexport const authAPI = {\n  login: data => apiCall('/auth/login', 'POST', data),\n  register: data => apiCall('/auth/register', 'POST', data),\n  getProfile: () => apiCall('/auth/profile'),\n  updateProfile: data => apiCall('/auth/profile', 'PUT', data),\n  changePassword: data => apiCall('/auth/change-password', 'POST', data)\n};\nexport const dashboardAPI = {\n  getSummary: () => apiCall('/dashboard/summary')\n};\nexport const sensorAPI = {\n  getAllSensors: () => apiCall('/sensors'),\n  getSensor: id => apiCall(`/sensors/${id}`),\n  getSensorData: (id, timeRange) => apiCall(`/sensors/${id}/data?timeRange=${timeRange}`),\n  updateSensor: (id, data) => apiCall(`/sensors/${id}`, 'PUT', data),\n  calibrateSensor: (id, data) => apiCall(`/sensors/${id}/calibrate`, 'POST', data)\n};\nexport const actuatorAPI = {\n  getAllActuators: () => apiCall('/actuators'),\n  getActuator: id => apiCall(`/actuators/${id}`),\n  getActuatorLogs: id => apiCall(`/actuators/${id}/logs`),\n  getActuatorStatuses: id => apiCall(`/actuators/${id}/statuses`),\n  controlActuator: (id, data) => apiCall(`/actuators/${id}/control`, 'POST', data),\n  updateActuator: (id, data) => apiCall(`/actuators/${id}`, 'PUT', data),\n  updateActuatorRules: (id, data) => apiCall(`/actuators/${id}/rules`, 'PUT', data),\n  updateActuatorParameters: (id, data) => apiCall(`/actuators/${id}/parameters`, 'PUT', data)\n};\nexport const alertAPI = {\n  getAlerts: (page = 1, limit = 10) => apiCall(`/alerts?page=${page}&limit=${limit}`),\n  markAsRead: id => apiCall(`/alerts/${id}/read`, 'POST'),\n  markAllAsRead: () => apiCall('/alerts/read-all', 'POST'),\n  deleteAlert: id => apiCall(`/alerts/${id}`, 'DELETE'),\n  getAlertSettings: () => apiCall('/alerts/settings'),\n  updateAlertSettings: data => apiCall('/alerts/settings', 'PUT', data)\n};\nexport const analyticsAPI = {\n  getSensorStats: timeRange => apiCall(`/analytics/sensors?timeRange=${timeRange}`),\n  getActuatorStats: timeRange => apiCall(`/analytics/actuators?timeRange=${timeRange}`),\n  getCorrelationData: (sensors, timeRange) => apiCall(`/analytics/correlation?sensors=${sensors.join(',')}&timeRange=${timeRange}`),\n  getEnergyUsage: timeRange => apiCall(`/analytics/energy?timeRange=${timeRange}`),\n  getYieldData: timeRange => apiCall(`/analytics/yield?timeRange=${timeRange}`)\n};\nexport const settingsAPI = {\n  getSystemSettings: () => apiCall('/settings/system'),\n  updateSystemSettings: data => apiCall('/settings/system', 'PUT', data),\n  getNotificationSettings: () => apiCall('/settings/notifications'),\n  updateNotificationSettings: data => apiCall('/settings/notifications', 'PUT', data),\n  getBackupSettings: () => apiCall('/settings/backup'),\n  updateBackupSettings: data => apiCall('/settings/backup', 'PUT', data),\n  backupNow: () => apiCall('/settings/backup/now', 'POST'),\n  restoreBackup: id => apiCall(`/settings/backup/restore/${id}`, 'POST'),\n  getDeviceSettings: () => apiCall('/settings/devices'),\n  updateDeviceSettings: data => apiCall('/settings/devices', 'PUT', data)\n};","map":{"version":3,"names":["API_URL","TOKEN_KEY","apiCall","endpoint","method","data","url","options","headers","token","localStorage","getItem","body","JSON","stringify","mockResponse","mockApiResponse","status","Error","message","error","console","Promise","resolve","setTimeout","startsWith","success","sensors","total","active","latest_readings","temperature","value","unit","sensor_location","timestamp","Date","toISOString","humidity","light","soil_moisture","actuators","statuses","irrigation","on","off","ventilation","lighting","heating","alerts","unread","recent","id","type","created_at","now","is_read","name","location","mode","is_active","mqtt_topic","updated_at","last_control_time","parameters","speed","max_speed","direction","brightness","color_temp","last_reading","match","parseInt","split","pop","sensor","description","model","manufacturer","calibration_date","history","actuator_id","user","source","username","email","password","Math","floor","random","role","isAdmin","last_login","toString","substring","authAPI","login","register","getProfile","updateProfile","changePassword","dashboardAPI","getSummary","sensorAPI","getAllSensors","getSensor","getSensorData","timeRange","updateSensor","calibrateSensor","actuatorAPI","getAllActuators","getActuator","getActuatorLogs","getActuatorStatuses","controlActuator","updateActuator","updateActuatorRules","updateActuatorParameters","alertAPI","getAlerts","page","limit","markAsRead","markAllAsRead","deleteAlert","getAlertSettings","updateAlertSettings","analyticsAPI","getSensorStats","getActuatorStats","getCorrelationData","join","getEnergyUsage","getYieldData","settingsAPI","getSystemSettings","updateSystemSettings","getNotificationSettings","updateNotificationSettings","getBackupSettings","updateBackupSettings","backupNow","restoreBackup","getDeviceSettings","updateDeviceSettings"],"sources":["C:/Users/LIJIN/Desktop/webTest/frontend/src/services/api.js"],"sourcesContent":["import { API_URL, TOKEN_KEY } from '../config';\r\n\r\n// Create common API call method\r\nconst apiCall = async (endpoint, method = 'GET', data = null) => {\r\n  const url = `${API_URL}${endpoint}`;\r\n  \r\n  const options = {\r\n    method,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  // Add authorization token\r\n  const token = localStorage.getItem(TOKEN_KEY);\r\n  if (token) {\r\n    options.headers['Authorization'] = `Bearer ${token}`;\r\n  }\r\n\r\n  // Add request body data\r\n  if (data) {\r\n    options.body = JSON.stringify(data);\r\n  }\r\n\r\n  try {\r\n    // Should use real API in actual project\r\n    // const response = await fetch(url, options);\r\n    \r\n    // Mock API response\r\n    const mockResponse = await mockApiResponse(endpoint, method, data);\r\n    \r\n    // 检查状态码是否表示错误\r\n    if (mockResponse.status && mockResponse.status >= 400) {\r\n      throw new Error(mockResponse.data.message || 'API request failed');\r\n    }\r\n    \r\n    return mockResponse.data;\r\n  } catch (error) {\r\n    console.error('API call error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Mock API response\r\nconst mockApiResponse = (endpoint, method, data) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      // Return mock data based on different endpoints\r\n      if (endpoint.startsWith('/dashboard') && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: {\r\n              sensors: {\r\n                total: 12,\r\n                active: 10,\r\n                latest_readings: {\r\n                  temperature: {\r\n                    value: 24.5,\r\n                    unit: '°C',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  humidity: {\r\n                    value: 65,\r\n                    unit: '%',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  light: {\r\n                    value: 3500,\r\n                    unit: 'lux',\r\n                    sensor_location: 'Greenhouse 2',\r\n                    timestamp: new Date().toISOString()\r\n                  },\r\n                  soil_moisture: {\r\n                    value: 42,\r\n                    unit: '%',\r\n                    sensor_location: 'Greenhouse 1',\r\n                    timestamp: new Date().toISOString()\r\n                  }\r\n                }\r\n              },\r\n              actuators: {\r\n                total: 8,\r\n                active: 6,\r\n                statuses: {\r\n                  irrigation: { on: 1, off: 2, error: 0 },\r\n                  ventilation: { on: 2, off: 1, error: 0 },\r\n                  lighting: { on: 1, off: 1, error: 0 },\r\n                  heating: { on: 0, off: 1, error: 0 }\r\n                }\r\n              },\r\n              alerts: {\r\n                total: 5,\r\n                unread: 2,\r\n                recent: [\r\n                  {\r\n                    id: 1,\r\n                    type: 'temperature',\r\n                    message: 'Greenhouse 1 temperature above threshold (30°C)',\r\n                    created_at: new Date(Date.now() - 10 * 60000).toISOString(),\r\n                    is_read: false\r\n                  },\r\n                  {\r\n                    id: 2,\r\n                    type: 'actuator',\r\n                    message: 'Greenhouse 2 irrigation system started',\r\n                    created_at: new Date(Date.now() - 30 * 60000).toISOString(),\r\n                    is_read: true\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        });\r\n      } \r\n      // Mock get all actuators\r\n      else if (endpoint === '/actuators' && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                name: 'Greenhouse 1 Irrigation System',\r\n                type: 'irrigation',\r\n                location: 'Greenhouse 1',\r\n                status: 'off',\r\n                mode: 'manual',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/irrigation/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                last_control_time: '2023-11-14T14:20:00Z'\r\n              },\r\n              {\r\n                id: 2,\r\n                name: 'Greenhouse 2 Ventilation Fan',\r\n                type: 'fan',\r\n                location: 'Greenhouse 2',\r\n                status: 'low',\r\n                mode: 'auto',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/fan/2',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                parameters: {\r\n                  speed: 2,\r\n                  max_speed: 5,\r\n                  direction: 'forward'\r\n                }\r\n              },\r\n              {\r\n                id: 3,\r\n                name: 'Greenhouse 1 Lighting System',\r\n                type: 'lighting',\r\n                location: 'Greenhouse 1',\r\n                status: 'on',\r\n                mode: 'auto',\r\n                is_active: true,\r\n                mqtt_topic: 'farm/actuators/lighting/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z',\r\n                parameters: {\r\n                  brightness: 80,\r\n                  color_temp: 4000\r\n                }\r\n              },\r\n              {\r\n                id: 4,\r\n                name: 'Greenhouse 3 Humidifier',\r\n                type: 'humidifier',\r\n                location: 'Greenhouse 3',\r\n                status: 'off',\r\n                mode: 'manual',\r\n                is_active: false,\r\n                mqtt_topic: 'farm/actuators/humidifier/1',\r\n                created_at: '2023-10-01T08:00:00Z',\r\n                updated_at: '2023-11-15T10:30:00Z'\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get all sensors\r\n      else if (endpoint === '/sensors' && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                name: 'Temperature Sensor 1',\r\n                type: 'temperature',\r\n                location: 'Greenhouse 1',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 24.5,\r\n                  unit: '°C',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 2,\r\n                name: 'Humidity Sensor 1',\r\n                type: 'humidity',\r\n                location: 'Greenhouse 1',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 65,\r\n                  unit: '%',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 3,\r\n                name: 'Light Sensor 1',\r\n                type: 'light',\r\n                location: 'Greenhouse 2',\r\n                status: 'active',\r\n                last_reading: {\r\n                  value: 3500,\r\n                  unit: 'lux',\r\n                  timestamp: new Date().toISOString()\r\n                }\r\n              },\r\n              {\r\n                id: 4,\r\n                name: 'Soil Moisture Sensor 1',\r\n                type: 'soil_moisture',\r\n                location: 'Greenhouse 1',\r\n                status: 'inactive',\r\n                last_reading: {\r\n                  value: 42,\r\n                  unit: '%',\r\n                  timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get single sensor\r\n      else if (endpoint.match(/\\/sensors\\/\\d+$/) && method === 'GET') {\r\n        const id = parseInt(endpoint.split('/').pop());\r\n        let sensor = {};\r\n\r\n        switch(id) {\r\n          case 1:\r\n            sensor = {\r\n              id: 1,\r\n              name: 'Temperature Sensor 1',\r\n              type: 'temperature',\r\n              location: 'Greenhouse 1',\r\n              status: 'active',\r\n              description: 'Primary temperature sensor for monitoring greenhouse conditions.',\r\n              mqtt_topic: 'farm/sensors/temperature/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'DHT22',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 24.5,\r\n                unit: '°C',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 24.5 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 25.1 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 25.4 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 25.8 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 26.2 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 26.5 }\r\n              ]\r\n            };\r\n            break;\r\n          case 2:\r\n            sensor = {\r\n              id: 2,\r\n              name: 'Humidity Sensor 1',\r\n              type: 'humidity',\r\n              location: 'Greenhouse 1',\r\n              status: 'active',\r\n              description: 'Primary humidity sensor for monitoring greenhouse conditions.',\r\n              mqtt_topic: 'farm/sensors/humidity/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'DHT22',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 65,\r\n                unit: '%',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 65 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 64 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 63 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 62 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 60 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 59 }\r\n              ]\r\n            };\r\n            break;\r\n          case 3:\r\n            sensor = {\r\n              id: 3,\r\n              name: 'Light Sensor 1',\r\n              type: 'light',\r\n              location: 'Greenhouse 2',\r\n              status: 'active',\r\n              description: 'Light sensor for monitoring lighting conditions.',\r\n              mqtt_topic: 'farm/sensors/light/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'BH1750',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 3500,\r\n                unit: 'lux',\r\n                timestamp: new Date().toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(), value: 3500 },\r\n                { timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), value: 3200 },\r\n                { timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(), value: 2900 },\r\n                { timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(), value: 2500 },\r\n                { timestamp: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(), value: 2000 },\r\n                { timestamp: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), value: 1500 }\r\n              ]\r\n            };\r\n            break;\r\n          case 4:\r\n            sensor = {\r\n              id: 4,\r\n              name: 'Soil Moisture Sensor 1',\r\n              type: 'soil_moisture',\r\n              location: 'Greenhouse 1',\r\n              status: 'inactive',\r\n              description: 'Soil moisture sensor for monitoring soil conditions.',\r\n              mqtt_topic: 'farm/sensors/soil_moisture/1',\r\n              created_at: '2023-10-01T08:00:00Z',\r\n              updated_at: '2023-11-15T10:30:00Z',\r\n              model: 'YL-69',\r\n              manufacturer: 'Acme Sensors',\r\n              calibration_date: '2023-09-15T00:00:00Z',\r\n              last_reading: {\r\n                value: 42,\r\n                unit: '%',\r\n                timestamp: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n              },\r\n              history: [\r\n                { timestamp: new Date(Date.now() - 25 * 60 * 60 * 1000).toISOString(), value: 42 },\r\n                { timestamp: new Date(Date.now() - 26 * 60 * 60 * 1000).toISOString(), value: 43 },\r\n                { timestamp: new Date(Date.now() - 27 * 60 * 60 * 1000).toISOString(), value: 44 },\r\n                { timestamp: new Date(Date.now() - 28 * 60 * 60 * 1000).toISOString(), value: 45 },\r\n                { timestamp: new Date(Date.now() - 29 * 60 * 60 * 1000).toISOString(), value: 46 },\r\n                { timestamp: new Date(Date.now() - 30 * 60 * 60 * 1000).toISOString(), value: 47 }\r\n              ]\r\n            };\r\n            break;\r\n          default:\r\n            sensor = null;\r\n        }\r\n\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: sensor\r\n          }\r\n        });\r\n      }\r\n      // Mock get actuator operation logs\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/logs$/) && method === 'GET') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: [\r\n              {\r\n                id: 1,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 5).toISOString(),\r\n                status: 'on',\r\n                message: 'Manual activation of actuator',\r\n                user: 'admin',\r\n                source: 'web'\r\n              },\r\n              {\r\n                id: 2,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 60).toISOString(),\r\n                status: 'off',\r\n                message: 'Actuator turned off by automatic rule',\r\n                user: 'system',\r\n                source: 'rule'\r\n              },\r\n              {\r\n                id: 3,\r\n                actuator_id: parseInt(endpoint.split('/')[2]),\r\n                timestamp: new Date(Date.now() - 1000 * 60 * 60 * 12).toISOString(),\r\n                status: 'on',\r\n                message: 'Adjusted actuator parameters',\r\n                user: 'admin',\r\n                source: 'api'\r\n              }\r\n            ]\r\n          }\r\n        });\r\n      }\r\n      // Mock get actuator allowed statuses\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/statuses$/) && method === 'GET') {\r\n        const id = parseInt(endpoint.split('/')[2]);\r\n        let statuses = [];\r\n        \r\n        switch(id) {\r\n          case 1: // Irrigation\r\n            statuses = ['on', 'off'];\r\n            break;\r\n          case 2: // Fan\r\n            statuses = ['off', 'low', 'medium', 'high'];\r\n            break;\r\n          case 3: // Lighting\r\n            statuses = ['on', 'off', 'dim'];\r\n            break;\r\n          case 4: // Humidifier\r\n            statuses = ['on', 'off', 'auto'];\r\n            break;\r\n          default:\r\n            statuses = ['on', 'off'];\r\n        }\r\n        \r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            data: statuses\r\n          }\r\n        });\r\n      }\r\n      // Mock control actuator\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/control$/) && method === 'POST') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Operation successful',\r\n            data: {\r\n              ...data,\r\n              timestamp: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator\r\n      else if (endpoint.match(/\\/actuators\\/\\d+$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator auto rules\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/rules$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Rule update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock update actuator parameters\r\n      else if (endpoint.match(/\\/actuators\\/\\d+\\/parameters$/) && method === 'PUT') {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Parameter update successful',\r\n            data: {\r\n              ...data,\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          }\r\n        });\r\n      }\r\n      // Mock register user\r\n      else if (endpoint === '/auth/register' && method === 'POST') {\r\n        // 模拟用户注册\r\n        if (!data.username || !data.email || !data.password) {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Missing required fields',\r\n            },\r\n            status: 400\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 模拟检查用户名是否已存在\r\n        if (data.username === 'admin' || data.username === 'user1') {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: `Username ${data.username} is already taken`,\r\n            },\r\n            status: 409\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 模拟检查邮箱是否已存在\r\n        if (data.email === 'admin@smartfarm.com' || data.email === 'user1@smartfarm.com') {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: `Email ${data.email} is already registered`,\r\n            },\r\n            status: 409\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 注册成功\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'User registered successfully',\r\n            data: {\r\n              id: Math.floor(Math.random() * 1000) + 10,\r\n              username: data.username,\r\n              email: data.email,\r\n              role: 'user',\r\n              is_active: true,\r\n              created_at: new Date().toISOString(),\r\n              updated_at: new Date().toISOString()\r\n            }\r\n          },\r\n          status: 201\r\n        });\r\n      }\r\n      // Mock login user\r\n      else if (endpoint === '/auth/login' && method === 'POST') {\r\n        // 模拟用户登录\r\n        if (!data.email || !data.password) {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Missing required fields',\r\n            },\r\n            status: 400\r\n          });\r\n          return;\r\n        }\r\n        \r\n        // 检查测试账户\r\n        if ((data.email === 'admin@smartfarm.com' && data.password === 'password123') || \r\n            (data.email === 'user1@smartfarm.com' && data.password === 'password123')) {\r\n          const isAdmin = data.email === 'admin@smartfarm.com';\r\n          \r\n          resolve({\r\n            data: {\r\n              success: true,\r\n              message: 'Login successful',\r\n              data: {\r\n                user: {\r\n                  id: isAdmin ? 1 : 2,\r\n                  username: isAdmin ? 'admin' : 'user1',\r\n                  email: data.email,\r\n                  role: isAdmin ? 'admin' : 'user',\r\n                  is_active: true,\r\n                  last_login: new Date().toISOString(),\r\n                  created_at: '2023-01-01T00:00:00Z',\r\n                  updated_at: new Date().toISOString()\r\n                },\r\n                token: 'mock-jwt-token-' + Math.random().toString(36).substring(2)\r\n              }\r\n            },\r\n            status: 200\r\n          });\r\n        } else {\r\n          resolve({\r\n            data: {\r\n              success: false,\r\n              message: 'Invalid email or password',\r\n            },\r\n            status: 401\r\n          });\r\n        }\r\n      }\r\n      // Other endpoints can be added as needed\r\n      else {\r\n        resolve({\r\n          data: {\r\n            success: true,\r\n            message: 'Operation completed',\r\n            data: null\r\n          }\r\n        });\r\n      }\r\n    }, 500); // Simulate network delay\r\n  });\r\n};\r\n\r\n// Export API services\r\nexport const authAPI = {\r\n  login: (data) => apiCall('/auth/login', 'POST', data),\r\n  register: (data) => apiCall('/auth/register', 'POST', data),\r\n  getProfile: () => apiCall('/auth/profile'),\r\n  updateProfile: (data) => apiCall('/auth/profile', 'PUT', data),\r\n  changePassword: (data) => apiCall('/auth/change-password', 'POST', data),\r\n};\r\n\r\nexport const dashboardAPI = {\r\n  getSummary: () => apiCall('/dashboard/summary'),\r\n};\r\n\r\nexport const sensorAPI = {\r\n  getAllSensors: () => apiCall('/sensors'),\r\n  getSensor: (id) => apiCall(`/sensors/${id}`),\r\n  getSensorData: (id, timeRange) => apiCall(`/sensors/${id}/data?timeRange=${timeRange}`),\r\n  updateSensor: (id, data) => apiCall(`/sensors/${id}`, 'PUT', data),\r\n  calibrateSensor: (id, data) => apiCall(`/sensors/${id}/calibrate`, 'POST', data),\r\n};\r\n\r\nexport const actuatorAPI = {\r\n  getAllActuators: () => apiCall('/actuators'),\r\n  getActuator: (id) => apiCall(`/actuators/${id}`),\r\n  getActuatorLogs: (id) => apiCall(`/actuators/${id}/logs`),\r\n  getActuatorStatuses: (id) => apiCall(`/actuators/${id}/statuses`),\r\n  controlActuator: (id, data) => apiCall(`/actuators/${id}/control`, 'POST', data),\r\n  updateActuator: (id, data) => apiCall(`/actuators/${id}`, 'PUT', data),\r\n  updateActuatorRules: (id, data) => apiCall(`/actuators/${id}/rules`, 'PUT', data),\r\n  updateActuatorParameters: (id, data) => apiCall(`/actuators/${id}/parameters`, 'PUT', data),\r\n};\r\n\r\nexport const alertAPI = {\r\n  getAlerts: (page = 1, limit = 10) => apiCall(`/alerts?page=${page}&limit=${limit}`),\r\n  markAsRead: (id) => apiCall(`/alerts/${id}/read`, 'POST'),\r\n  markAllAsRead: () => apiCall('/alerts/read-all', 'POST'),\r\n  deleteAlert: (id) => apiCall(`/alerts/${id}`, 'DELETE'),\r\n  getAlertSettings: () => apiCall('/alerts/settings'),\r\n  updateAlertSettings: (data) => apiCall('/alerts/settings', 'PUT', data),\r\n};\r\n\r\nexport const analyticsAPI = {\r\n  getSensorStats: (timeRange) => apiCall(`/analytics/sensors?timeRange=${timeRange}`),\r\n  getActuatorStats: (timeRange) => apiCall(`/analytics/actuators?timeRange=${timeRange}`),\r\n  getCorrelationData: (sensors, timeRange) => apiCall(`/analytics/correlation?sensors=${sensors.join(',')}&timeRange=${timeRange}`),\r\n  getEnergyUsage: (timeRange) => apiCall(`/analytics/energy?timeRange=${timeRange}`),\r\n  getYieldData: (timeRange) => apiCall(`/analytics/yield?timeRange=${timeRange}`),\r\n};\r\n\r\nexport const settingsAPI = {\r\n  getSystemSettings: () => apiCall('/settings/system'),\r\n  updateSystemSettings: (data) => apiCall('/settings/system', 'PUT', data),\r\n  getNotificationSettings: () => apiCall('/settings/notifications'),\r\n  updateNotificationSettings: (data) => apiCall('/settings/notifications', 'PUT', data),\r\n  getBackupSettings: () => apiCall('/settings/backup'),\r\n  updateBackupSettings: (data) => apiCall('/settings/backup', 'PUT', data),\r\n  backupNow: () => apiCall('/settings/backup/now', 'POST'),\r\n  restoreBackup: (id) => apiCall(`/settings/backup/restore/${id}`, 'POST'),\r\n  getDeviceSettings: () => apiCall('/settings/devices'),\r\n  updateDeviceSettings: (data) => apiCall('/settings/devices', 'PUT', data),\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}