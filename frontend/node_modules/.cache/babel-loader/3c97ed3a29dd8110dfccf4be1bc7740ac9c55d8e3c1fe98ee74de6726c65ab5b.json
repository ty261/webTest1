{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LIJIN\\\\Desktop\\\\webTest\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Grid, Typography, Paper, CircularProgress, Button, Divider, Card, CardContent, CardActions, List, ListItem, ListItemIcon, ListItemText, Chip } from '@mui/material';\nimport { Thermostat as TemperatureIcon, Opacity as HumidityIcon, WbSunny as LightIcon, Terrain as SoilIcon, Power as PowerIcon, ForestOutlined as EcoIcon, Speed as SpeedIcon, Air, Opacity, WbSunny } from '@mui/icons-material';\nimport { dashboardAPI } from '../services/api';\nimport { SENSOR_TYPES, ACTUATOR_TYPES } from '../config';\nimport { useNavigate } from 'react-router-dom';\nimport { useSocket } from '../contexts/SocketContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    sensorData,\n    actuatorData,\n    socket,\n    lastMessage\n  } = useSocket();\n\n  // 调试信息 - 添加到DOM以便查看\n  useEffect(() => {\n    console.log('Socket连接状态:', socket ? 'Connected' : 'Disconnected');\n    console.log('当前传感器数据:', sensorData);\n    console.log('最后接收的消息:', lastMessage);\n  }, [socket, sensorData, lastMessage]);\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        const response = await dashboardAPI.getSummary();\n        console.log('从API获取的仪表板数据:', response.data.data);\n        setDashboardData(response.data.data);\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n        setError('Failed to load dashboard data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    fetchDashboardData();\n\n    // Refresh data every 30 seconds (可以考虑移除这个轮询，因为我们已经有实时Socket数据)\n    const interval = setInterval(fetchDashboardData, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // 当收到新的传感器数据时，更新仪表板数据\n  useEffect(() => {\n    if (!dashboardData || Object.keys(sensorData).length === 0) return;\n    console.log('尝试用Socket数据更新仪表板:', sensorData);\n    const updatedReadings = {\n      ...dashboardData.sensors.latest_readings\n    };\n\n    // 更新仪表板数据中的传感器读数\n    Object.values(sensorData).forEach(sensor => {\n      if (!updatedReadings[sensor.type]) {\n        updatedReadings[sensor.type] = {\n          value: sensor.value,\n          unit: sensor.unit,\n          sensor_location: sensor.location,\n          timestamp: sensor.timestamp * 1000 // 转换为毫秒\n        };\n        console.log(`添加新传感器数据: ${sensor.type} = ${sensor.value}${sensor.unit}`);\n      } else {\n        // 只有当新数据的时间戳更晚时才更新\n        const currentTimestamp = updatedReadings[sensor.type].timestamp;\n        const newTimestamp = typeof sensor.timestamp === 'number' ? sensor.timestamp * 1000 : new Date(sensor.timestamp).getTime();\n        if (newTimestamp > currentTimestamp) {\n          console.log(`更新传感器数据: ${sensor.type} 从 ${updatedReadings[sensor.type].value} 到 ${sensor.value}`);\n          updatedReadings[sensor.type] = {\n            value: sensor.value,\n            unit: sensor.unit,\n            sensor_location: sensor.location,\n            timestamp: newTimestamp\n          };\n        }\n      }\n    });\n\n    // 更新状态\n    setDashboardData(prev => {\n      console.log('更新仪表板状态:', updatedReadings);\n      return {\n        ...prev,\n        sensors: {\n          ...prev.sensors,\n          latest_readings: updatedReadings\n        }\n      };\n    });\n  }, [sensorData, dashboardData]);\n\n  // 当收到新的执行器数据时，更新仪表板数据\n  useEffect(() => {\n    if (!dashboardData || Object.keys(actuatorData).length === 0) return;\n\n    // 制作执行器数据的深拷贝\n    const updatedActuatorStatuses = JSON.parse(JSON.stringify(dashboardData.actuators.statuses));\n    let actuatorStatusChanged = false;\n\n    // 更新执行器状态\n    Object.values(actuatorData).forEach(actuator => {\n      const actuatorType = actuator.type;\n      if (!updatedActuatorStatuses[actuatorType]) return;\n      const currentState = actuator.state.toUpperCase();\n      const prevOnCount = updatedActuatorStatuses[actuatorType].on;\n      const prevOffCount = updatedActuatorStatuses[actuatorType].off;\n\n      // 简化处理：如果收到执行器状态变更，我们只更新统计计数\n      // 在实际应用中，你可能需要跟踪每个执行器的ID并更新其特定状态\n      if (currentState === 'ON' && prevOffCount > 0) {\n        updatedActuatorStatuses[actuatorType].on += 1;\n        updatedActuatorStatuses[actuatorType].off -= 1;\n        actuatorStatusChanged = true;\n      } else if (currentState === 'OFF' && prevOnCount > 0) {\n        updatedActuatorStatuses[actuatorType].off += 1;\n        updatedActuatorStatuses[actuatorType].on -= 1;\n        actuatorStatusChanged = true;\n      }\n    });\n\n    // 只有当状态发生变化时才更新\n    if (actuatorStatusChanged) {\n      setDashboardData(prev => ({\n        ...prev,\n        actuators: {\n          ...prev.actuators,\n          statuses: updatedActuatorStatuses\n        }\n      }));\n    }\n  }, [actuatorData, dashboardData]);\n  const getSensorIcon = sensorType => {\n    switch (sensorType) {\n      case 'temperature':\n        return /*#__PURE__*/_jsxDEV(TemperatureIcon, {\n          color: \"error\",\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, this);\n      case 'humidity':\n        return /*#__PURE__*/_jsxDEV(HumidityIcon, {\n          color: \"primary\",\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 16\n        }, this);\n      case 'light':\n        return /*#__PURE__*/_jsxDEV(LightIcon, {\n          color: \"warning\",\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 16\n        }, this);\n      case 'soil_moisture':\n        return /*#__PURE__*/_jsxDEV(SoilIcon, {\n          color: \"success\",\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(SpeedIcon, {\n          color: \"info\",\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getActuatorIcon = actuatorType => {\n    switch (actuatorType) {\n      case 'irrigation':\n        return /*#__PURE__*/_jsxDEV(Opacity, {\n          color: \"primary\",\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 16\n        }, this);\n      case 'ventilation':\n        return /*#__PURE__*/_jsxDEV(Air, {\n          color: \"info\",\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 16\n        }, this);\n      case 'lighting':\n        return /*#__PURE__*/_jsxDEV(WbSunny, {\n          color: \"warning\",\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(PowerIcon, {\n          color: \"secondary\",\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        p: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        p: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"error\",\n        gutterBottom: true,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => window.location.reload(),\n        children: \"Retry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: \"textSecondary\",\n        gutterBottom: true,\n        children: \"Welcome to your Smart Farm monitoring and control system. Here's an overview of your farm's current status.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Sensors Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: [dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.sensors.active, \" active sensors out of \", dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.sensors.total, \" total\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: dashboardData !== null && dashboardData !== void 0 && dashboardData.sensors.latest_readings && Object.keys(dashboardData.sensors.latest_readings).length > 0 ? Object.entries(dashboardData.sensors.latest_readings).map(([type, data]) => {\n              var _SENSOR_TYPES$find;\n              return /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  variant: \"outlined\",\n                  children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        mb: 1\n                      },\n                      children: [getSensorIcon(type), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"subtitle1\",\n                        sx: {\n                          ml: 1\n                        },\n                        children: ((_SENSOR_TYPES$find = SENSOR_TYPES.find(s => s.id === type)) === null || _SENSOR_TYPES$find === void 0 ? void 0 : _SENSOR_TYPES$find.name) || type\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 264,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h4\",\n                      component: \"div\",\n                      children: [data.value, \" \", data.unit]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"textSecondary\",\n                      children: data.sensor_location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      color: \"textSecondary\",\n                      children: [\"Last updated: \", new Date(data.timestamp).toLocaleTimeString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      size: \"small\",\n                      onClick: () => navigate('/sensors'),\n                      children: \"View All Sensors\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)\n              }, type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                color: \"textSecondary\",\n                align: \"center\",\n                children: \"No sensor data available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Actuators Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            gutterBottom: true,\n            children: [dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.actuators.active, \" active actuators out of \", dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.actuators.total, \" total\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            sx: {\n              width: '100%'\n            },\n            children: dashboardData !== null && dashboardData !== void 0 && dashboardData.actuators.statuses && Object.keys(dashboardData.actuators.statuses).length > 0 ? Object.entries(dashboardData.actuators.statuses).map(([type, data]) => {\n              var _ACTUATOR_TYPES$find;\n              return /*#__PURE__*/_jsxDEV(ListItem, {\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: getActuatorIcon(type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: ((_ACTUATOR_TYPES$find = ACTUATOR_TYPES.find(a => a.id === type)) === null || _ACTUATOR_TYPES$find === void 0 ? void 0 : _ACTUATOR_TYPES$find.name) || type,\n                  secondary: `${data.on} ON, ${data.off} OFF, ${data.error || 0} ERROR`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Chip, {\n                    label: `${data.on} ON`,\n                    size: \"small\",\n                    color: \"success\",\n                    variant: \"outlined\",\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                    label: `${data.off} OFF`,\n                    size: \"small\",\n                    color: \"default\",\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this)]\n              }, type, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"No actuator data available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: () => navigate('/actuators'),\n              children: \"Manage Actuators\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Recent Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            sx: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(TemperatureIcon, {\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Temperature Alert\",\n                secondary: \"Greenhouse 1 temperature above threshold (30\\xB0C)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: \"10 min ago\",\n                size: \"small\",\n                color: \"error\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(SoilIcon, {\n                  color: \"warning\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Soil Moisture Alert\",\n                secondary: \"Field 2 soil moisture below threshold (15%)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: \"25 min ago\",\n                size: \"small\",\n                color: \"warning\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(EcoIcon, {\n                  color: \"success\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"System Notification\",\n                secondary: \"Irrigation system in Zone 3 activated automatically\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                label: \"45 min ago\",\n                size: \"small\",\n                color: \"info\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              onClick: () => navigate('/alerts'),\n              children: \"View All Alerts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"32qDSl17KLSP0P5gJQfDe5aOhPA=\", false, function () {\n  return [useNavigate, useSocket];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Box","Grid","Typography","Paper","CircularProgress","Button","Divider","Card","CardContent","CardActions","List","ListItem","ListItemIcon","ListItemText","Chip","Thermostat","TemperatureIcon","Opacity","HumidityIcon","WbSunny","LightIcon","Terrain","SoilIcon","Power","PowerIcon","ForestOutlined","EcoIcon","Speed","SpeedIcon","Air","dashboardAPI","SENSOR_TYPES","ACTUATOR_TYPES","useNavigate","useSocket","jsxDEV","_jsxDEV","Dashboard","_s","navigate","dashboardData","setDashboardData","loading","setLoading","error","setError","sensorData","actuatorData","socket","lastMessage","console","log","fetchDashboardData","response","getSummary","data","interval","setInterval","clearInterval","Object","keys","length","updatedReadings","sensors","latest_readings","values","forEach","sensor","type","value","unit","sensor_location","location","timestamp","currentTimestamp","newTimestamp","Date","getTime","prev","updatedActuatorStatuses","JSON","parse","stringify","actuators","statuses","actuatorStatusChanged","actuator","actuatorType","currentState","state","toUpperCase","prevOnCount","on","prevOffCount","off","getSensorIcon","sensorType","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","getActuatorIcon","sx","display","alignItems","justifyContent","height","p","children","flexDirection","variant","gutterBottom","onClick","window","reload","component","mb","container","spacing","item","xs","md","active","total","my","entries","map","_SENSOR_TYPES$find","sm","ml","find","s","id","name","toLocaleTimeString","size","align","width","_ACTUATOR_TYPES$find","primary","a","secondary","label","mr","mt","_c","$RefreshReg$"],"sources":["C:/Users/LIJIN/Desktop/webTest/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  Paper,\r\n  CircularProgress,\r\n  Button,\r\n  Divider,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Chip,\r\n} from '@mui/material';\r\nimport {\r\n  Thermostat as TemperatureIcon,\r\n  Opacity as HumidityIcon,\r\n  WbSunny as LightIcon,\r\n  Terrain as SoilIcon,\r\n  Power as PowerIcon,\r\n  ForestOutlined as EcoIcon,\r\n  Speed as SpeedIcon,\r\n  Air,\r\n  Opacity,\r\n  WbSunny,\r\n} from '@mui/icons-material';\r\nimport { dashboardAPI } from '../services/api';\r\nimport { SENSOR_TYPES, ACTUATOR_TYPES } from '../config';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSocket } from '../contexts/SocketContext';\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { sensorData, actuatorData, socket, lastMessage } = useSocket();\r\n  \r\n  // 调试信息 - 添加到DOM以便查看\r\n  useEffect(() => {\r\n    console.log('Socket连接状态:', socket ? 'Connected' : 'Disconnected');\r\n    console.log('当前传感器数据:', sensorData);\r\n    console.log('最后接收的消息:', lastMessage);\r\n  }, [socket, sensorData, lastMessage]);\r\n  \r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const response = await dashboardAPI.getSummary();\r\n        console.log('从API获取的仪表板数据:', response.data.data);\r\n        setDashboardData(response.data.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n        setError('Failed to load dashboard data. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchDashboardData();\r\n    \r\n    // Refresh data every 30 seconds (可以考虑移除这个轮询，因为我们已经有实时Socket数据)\r\n    const interval = setInterval(fetchDashboardData, 30000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n  \r\n  // 当收到新的传感器数据时，更新仪表板数据\r\n  useEffect(() => {\r\n    if (!dashboardData || Object.keys(sensorData).length === 0) return;\r\n\r\n    console.log('尝试用Socket数据更新仪表板:', sensorData);\r\n    const updatedReadings = { ...dashboardData.sensors.latest_readings };\r\n    \r\n    // 更新仪表板数据中的传感器读数\r\n    Object.values(sensorData).forEach(sensor => {\r\n      if (!updatedReadings[sensor.type]) {\r\n        updatedReadings[sensor.type] = {\r\n          value: sensor.value,\r\n          unit: sensor.unit,\r\n          sensor_location: sensor.location,\r\n          timestamp: sensor.timestamp * 1000 // 转换为毫秒\r\n        };\r\n        console.log(`添加新传感器数据: ${sensor.type} = ${sensor.value}${sensor.unit}`);\r\n      } else {\r\n        // 只有当新数据的时间戳更晚时才更新\r\n        const currentTimestamp = updatedReadings[sensor.type].timestamp;\r\n        const newTimestamp = typeof sensor.timestamp === 'number' ? sensor.timestamp * 1000 : new Date(sensor.timestamp).getTime();\r\n        \r\n        if (newTimestamp > currentTimestamp) {\r\n          console.log(`更新传感器数据: ${sensor.type} 从 ${updatedReadings[sensor.type].value} 到 ${sensor.value}`);\r\n          updatedReadings[sensor.type] = {\r\n            value: sensor.value,\r\n            unit: sensor.unit,\r\n            sensor_location: sensor.location,\r\n            timestamp: newTimestamp\r\n          };\r\n        }\r\n      }\r\n    });\r\n    \r\n    // 更新状态\r\n    setDashboardData(prev => {\r\n      console.log('更新仪表板状态:', updatedReadings);\r\n      return {\r\n        ...prev,\r\n        sensors: {\r\n          ...prev.sensors,\r\n          latest_readings: updatedReadings\r\n        }\r\n      };\r\n    });\r\n  }, [sensorData, dashboardData]);\r\n  \r\n  // 当收到新的执行器数据时，更新仪表板数据\r\n  useEffect(() => {\r\n    if (!dashboardData || Object.keys(actuatorData).length === 0) return;\r\n    \r\n    // 制作执行器数据的深拷贝\r\n    const updatedActuatorStatuses = JSON.parse(JSON.stringify(dashboardData.actuators.statuses));\r\n    let actuatorStatusChanged = false;\r\n    \r\n    // 更新执行器状态\r\n    Object.values(actuatorData).forEach(actuator => {\r\n      const actuatorType = actuator.type;\r\n      if (!updatedActuatorStatuses[actuatorType]) return;\r\n      \r\n      const currentState = actuator.state.toUpperCase();\r\n      const prevOnCount = updatedActuatorStatuses[actuatorType].on;\r\n      const prevOffCount = updatedActuatorStatuses[actuatorType].off;\r\n      \r\n      // 简化处理：如果收到执行器状态变更，我们只更新统计计数\r\n      // 在实际应用中，你可能需要跟踪每个执行器的ID并更新其特定状态\r\n      if (currentState === 'ON' && prevOffCount > 0) {\r\n        updatedActuatorStatuses[actuatorType].on += 1;\r\n        updatedActuatorStatuses[actuatorType].off -= 1;\r\n        actuatorStatusChanged = true;\r\n      } else if (currentState === 'OFF' && prevOnCount > 0) {\r\n        updatedActuatorStatuses[actuatorType].off += 1;\r\n        updatedActuatorStatuses[actuatorType].on -= 1;\r\n        actuatorStatusChanged = true;\r\n      }\r\n    });\r\n    \r\n    // 只有当状态发生变化时才更新\r\n    if (actuatorStatusChanged) {\r\n      setDashboardData(prev => ({\r\n        ...prev,\r\n        actuators: {\r\n          ...prev.actuators,\r\n          statuses: updatedActuatorStatuses\r\n        }\r\n      }));\r\n    }\r\n  }, [actuatorData, dashboardData]);\r\n  \r\n  const getSensorIcon = (sensorType) => {\r\n    switch (sensorType) {\r\n      case 'temperature':\r\n        return <TemperatureIcon color=\"error\" fontSize=\"large\" />;\r\n      case 'humidity':\r\n        return <HumidityIcon color=\"primary\" fontSize=\"large\" />;\r\n      case 'light':\r\n        return <LightIcon color=\"warning\" fontSize=\"large\" />;\r\n      case 'soil_moisture':\r\n        return <SoilIcon color=\"success\" fontSize=\"large\" />;\r\n      default:\r\n        return <SpeedIcon color=\"info\" fontSize=\"large\" />;\r\n    }\r\n  };\r\n  \r\n  const getActuatorIcon = (actuatorType) => {\r\n    switch (actuatorType) {\r\n      case 'irrigation':\r\n        return <Opacity color=\"primary\" fontSize=\"small\" />;\r\n      case 'ventilation':\r\n        return <Air color=\"info\" fontSize=\"small\" />;\r\n      case 'lighting':\r\n        return <WbSunny color=\"warning\" fontSize=\"small\" />;\r\n      default:\r\n        return <PowerIcon color=\"secondary\" fontSize=\"small\" />;\r\n    }\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '100%',\r\n          p: 4,\r\n        }}\r\n      >\r\n        <CircularProgress color=\"primary\" />\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n  if (error) {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '100%',\r\n          p: 4,\r\n        }}\r\n      >\r\n        <Typography variant=\"h6\" color=\"error\" gutterBottom>\r\n          {error}\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => window.location.reload()}\r\n        >\r\n          Retry\r\n        </Button>\r\n      </Box>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n        Dashboard\r\n      </Typography>\r\n      \r\n      <Box sx={{ mb: 4 }}>\r\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" gutterBottom>\r\n          Welcome to your Smart Farm monitoring and control system. Here's an overview of your farm's current status.\r\n        </Typography>\r\n      </Box>\r\n      \r\n      <Grid container spacing={3}>\r\n        {/* Sensors Overview */}\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 2, height: '100%' }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Sensors Overview\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" color=\"textSecondary\" gutterBottom>\r\n              {dashboardData?.sensors.active} active sensors out of {dashboardData?.sensors.total} total\r\n            </Typography>\r\n            <Divider sx={{ my: 2 }} />\r\n            \r\n            <Grid container spacing={2}>\r\n              {dashboardData?.sensors.latest_readings && \r\n                Object.keys(dashboardData.sensors.latest_readings).length > 0 ? (\r\n                  Object.entries(dashboardData.sensors.latest_readings).map(([type, data]) => (\r\n                    <Grid item xs={12} sm={6} key={type}>\r\n                      <Card variant=\"outlined\">\r\n                        <CardContent>\r\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                            {getSensorIcon(type)}\r\n                            <Typography variant=\"subtitle1\" sx={{ ml: 1 }}>\r\n                              {SENSOR_TYPES.find(s => s.id === type)?.name || type}\r\n                            </Typography>\r\n                          </Box>\r\n                          \r\n                          <Typography variant=\"h4\" component=\"div\">\r\n                            {data.value} {data.unit}\r\n                          </Typography>\r\n                          \r\n                          <Typography variant=\"body2\" color=\"textSecondary\">\r\n                            {data.sensor_location}\r\n                          </Typography>\r\n                          \r\n                          <Typography variant=\"caption\" color=\"textSecondary\">\r\n                            Last updated: {new Date(data.timestamp).toLocaleTimeString()}\r\n                          </Typography>\r\n                        </CardContent>\r\n                        <CardActions>\r\n                          <Button \r\n                            size=\"small\" \r\n                            onClick={() => navigate('/sensors')}\r\n                          >\r\n                            View All Sensors\r\n                          </Button>\r\n                        </CardActions>\r\n                      </Card>\r\n                    </Grid>\r\n                  ))\r\n                ) : (\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\r\n                      No sensor data available\r\n                    </Typography>\r\n                  </Grid>\r\n                )\r\n              }\r\n            </Grid>\r\n          </Paper>\r\n        </Grid>\r\n        \r\n        {/* Actuators Overview */}\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 2, height: '100%' }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Actuators Overview\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" color=\"textSecondary\" gutterBottom>\r\n              {dashboardData?.actuators.active} active actuators out of {dashboardData?.actuators.total} total\r\n            </Typography>\r\n            <Divider sx={{ my: 2 }} />\r\n            \r\n            <List sx={{ width: '100%' }}>\r\n              {dashboardData?.actuators.statuses && \r\n                Object.keys(dashboardData.actuators.statuses).length > 0 ? (\r\n                  Object.entries(dashboardData.actuators.statuses).map(([type, data]) => (\r\n                    <ListItem key={type}>\r\n                      <ListItemIcon>\r\n                        {getActuatorIcon(type)}\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={ACTUATOR_TYPES.find(a => a.id === type)?.name || type}\r\n                        secondary={`${data.on} ON, ${data.off} OFF, ${data.error || 0} ERROR`}\r\n                      />\r\n                      <Box>\r\n                        <Chip \r\n                          label={`${data.on} ON`} \r\n                          size=\"small\" \r\n                          color=\"success\" \r\n                          variant=\"outlined\"\r\n                          sx={{ mr: 1 }}\r\n                        />\r\n                        <Chip \r\n                          label={`${data.off} OFF`} \r\n                          size=\"small\" \r\n                          color=\"default\" \r\n                          variant=\"outlined\"\r\n                        />\r\n                      </Box>\r\n                    </ListItem>\r\n                  ))\r\n                ) : (\r\n                  <ListItem>\r\n                    <ListItemText \r\n                      primary=\"No actuator data available\"\r\n                    />\r\n                  </ListItem>\r\n                )\r\n              }\r\n            </List>\r\n            \r\n            <Box sx={{ mt: 2, display: 'flex', justifyContent: 'flex-end' }}>\r\n              <Button \r\n                variant=\"contained\" \r\n                color=\"primary\"\r\n                onClick={() => navigate('/actuators')}\r\n              >\r\n                Manage Actuators\r\n              </Button>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n        \r\n        {/* Recent Alerts */}\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 2 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Recent Alerts\r\n            </Typography>\r\n            <Divider sx={{ my: 2 }} />\r\n            \r\n            <List sx={{ width: '100%' }}>\r\n              <ListItem>\r\n                <ListItemIcon>\r\n                  <TemperatureIcon color=\"error\" />\r\n                </ListItemIcon>\r\n                <ListItemText \r\n                  primary=\"Temperature Alert\"\r\n                  secondary=\"Greenhouse 1 temperature above threshold (30°C)\"\r\n                />\r\n                <Chip \r\n                  label=\"10 min ago\" \r\n                  size=\"small\" \r\n                  color=\"error\" \r\n                  variant=\"outlined\"\r\n                />\r\n              </ListItem>\r\n              \r\n              <ListItem>\r\n                <ListItemIcon>\r\n                  <SoilIcon color=\"warning\" />\r\n                </ListItemIcon>\r\n                <ListItemText \r\n                  primary=\"Soil Moisture Alert\"\r\n                  secondary=\"Field 2 soil moisture below threshold (15%)\"\r\n                />\r\n                <Chip \r\n                  label=\"25 min ago\" \r\n                  size=\"small\" \r\n                  color=\"warning\" \r\n                  variant=\"outlined\"\r\n                />\r\n              </ListItem>\r\n              \r\n              <ListItem>\r\n                <ListItemIcon>\r\n                  <EcoIcon color=\"success\" />\r\n                </ListItemIcon>\r\n                <ListItemText \r\n                  primary=\"System Notification\"\r\n                  secondary=\"Irrigation system in Zone 3 activated automatically\"\r\n                />\r\n                <Chip \r\n                  label=\"45 min ago\" \r\n                  size=\"small\" \r\n                  color=\"info\" \r\n                  variant=\"outlined\"\r\n                />\r\n              </ListItem>\r\n            </List>\r\n            \r\n            <Box sx={{ mt: 2, display: 'flex', justifyContent: 'flex-end' }}>\r\n              <Button \r\n                variant=\"outlined\" \r\n                color=\"primary\"\r\n                onClick={() => navigate('/alerts')}\r\n              >\r\n                View All Alerts\r\n              </Button>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}